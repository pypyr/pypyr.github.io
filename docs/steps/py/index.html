<!doctype html><html lang=en dir=ltr prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>pypyr.steps.py | pypyr</title><meta name=description content="Run dynamic inline python inside a task-runner pipeline step."><link rel=stylesheet href=https://pypyr.io/css/styles.min.20040172c38a54ec5170c87ad05ee287e7260192dd12a2fa3996423da943c34f.css integrity="sha256-IAQBcsOKVOxRcMh60F7ih+cmAZLdEqL6OZZCPalDw08="><link rel=stylesheet href=https://pypyr.io/css/code-highlight.min.78f63f1d4f45beaf423efd3dc8e6914c2abdca1b5391cd91368a32efecd9d7e3.css integrity="sha256-ePY/HU9Fvq9CPv09yOaRTCq9yhtTkc2RNooy7+zZ1+M="><script defer src=https://pypyr.io/js/script.min.91263db5f27c955af051b264cd9eda63102d476e77c28fb44032a2432be2cfc1.js integrity="sha256-kSY9tfJ8lVrwUbJkzZ7aYxAtR253wo+0QDKiQyviz8E="></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700%7cRoboto+Mono:400,400i&display=swap" rel=stylesheet><link rel=canonical href=https://pypyr.io/docs/steps/py/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-147150909-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-147150909-1")</script><meta property="og:description" content="Run dynamic inline python inside a task-runner pipeline step."><meta property="og:image" content="https://pypyr.io/images/1.91x1/pypyr-taskrunner-yaml-pipeline-automation-1200x628.5aa6465b3b9d2ca8d0d5a9f794ba7f379c522a8ba503129f2a35d2479ea2452d.png"><meta property="og:image:alt" content="pypyr is an open-source task-runner for automation pipelines defined in simple human-readable yaml."><meta property="og:image:height" content="628"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:site_name" content="pypyr technical documentation"><meta property="og:title" content="Execute inline python in pipeline."><meta property="og:type" content="website"><meta property="og:url" content="https://pypyr.io/docs/steps/py/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@pypyrpipes"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@id":"https://pypyr.io/#organization","@type":"Organization","name":"pypyr","url":"https://pypyr.io/","description":"The pypyr project is a free open-source task-runner cli \u0026 python api for automation pipelines.","logo":{"@type":"ImageObject","url":"https://pypyr.io/images/pypyr-taskrunner-logo-square.63875e43ff40d8ae40e93a6043b4328b962f54f52974aaa27cedec52220de665.svg","height":112,"width":112},"sameAs":["https://github.com/pypyr/","https://twitter.com/pypyrpipes/","https://pypi.org/user/pypyr/","https://hub.docker.com/u/pypyr/","https://en.gravatar.com/pypyr/"]},{"@type":"TechArticle","author":{"@type":"Person","name":"pypyr contributor","url":"https://pypyr.io/"},"articleSection":"steps","dateModified":"2022-02-21T12:02:12Z","datePublished":"2020-07-06T13:17:22+01:00","headline":"Execute inline python in pipeline.","image":[{"@type":"ImageObject","url":"https://pypyr.io/images/1x1/pypyr-taskrunner-yaml-pipeline-automation-1200x1200.52764d3c6f40232b3cdc33f5b8fbaeadad56cc310c8dd5588d30828296b5290d.png","height":1200,"width":1200},{"@type":"ImageObject","url":"https://pypyr.io/images/4x3/pypyr-taskrunner-yaml-pipeline-automation-1200x900.e8e70443377aeb11c190835e8d2ed0c844d31a82a0c2e8a744a9999cd03e0de9.png","height":900,"width":1200},{"@type":"ImageObject","url":"https://pypyr.io/images/16x9/pypyr-taskrunner-yaml-pipeline-automation-1920x1080.cc9ae11626c8312e087058adb13bfff702162ce39c355065170c1b87850f3034.png","height":1080,"width":1920}],"inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https://pypyr.io/docs/steps/py/"},"publisher":{"@id":"https://pypyr.io/#organization"},"thumbnailUrl":"https://pypyr.io/images/pypyr-taskrunner-logo-square.63875e43ff40d8ae40e93a6043b4328b962f54f52974aaa27cedec52220de665.svg","url":"https://pypyr.io/docs/steps/py/","wordCount":1765}]}</script><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.925deabb48d91a80924b5d04ff56d2b8f42ba1d1e1438cb7d8948cce1138208c.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.b869433d27c4679a5fbce03a8489268a539cbc781259bff14618ae2f018334e6.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.8bcd9f870e0a86445e0505ce6e816b76a40b08a06e2dcd1ec1f90c395ecbeaf6.png><link rel=manifest href=/favicons/site.3dad2bd5063ad6bc11f741ea28adf4df8b9370196f6e64af6789cf181cef05c6.webmanifest><link rel="shortcut icon" href=/favicons/favicon.4a2a3dffd965a7c571df0375e35f59307bc72adc08e3ef7021d5d5f02e6ef5a8.ico><meta name=msapplication-TileColor content="#00aba9"><meta name=msapplication-config content="/favicons/browserconfig.bbdaec7f39b7bd1f2d6bc484afdd0c7246e3af9c5b45d91198d8a3b42e024e1f.xml"><meta name=theme-color content="#121212"></head><body class=docs-grid><header class="header elevation-01"><a href=/ class=top-nav-logo aria-label=home><img class=top-nav-logo-img src=https://pypyr.io/images/pypyr-logotype.2c9aa98c472f0ea8d436597c26ef1b0f042624ee19cdf69bcb89ac0025d146c4.svg alt="pypyr logo"></a><nav class=top-nav-links aria-label="top navigation"><ul><li><a href=/docs/ class=top-active>docs</a></li><li><a href=/updates/>updates</a></li><li><a href=/topics/>topics</a></li><li><a href=https://twitter.com/pypyrpipes/><span class=top-nav-links-pre><svg viewBox="0 0 250 203.18"><title>twitter link</title><use xlink:href="https://pypyr.io/images/twitter-logo.4bee83a61c7b1a567b9a00ea1ac9388de3b16ffbffac9e228f998a5411894c59.svg#twitter-logo"/></svg></span></a></li><li><a href=https://github.com/pypyr/pypyr/><span class=top-nav-links-pre><svg viewBox="0 0 477 97.41"><title>github repo</title><use xlink:href="https://pypyr.io/images/github-mark-and-logo.5df312655c6a99a4953b544d02b13a948fa4d66bda21e772206f0ed96663f05b.svg#github-mark-and-logo"/></svg></span></a></li></ul></nav></header><button id=show-leftnav class="neutral-button icon-button primary-button"><svg class="show-leftnav-chevron"><title>open main navigation menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg></button><nav id=leftnavmenu class="leftnavmenu elevation-03" aria-label="Primary Navigation"><button id=hide-leftnav class="neutral-button icon-button"><svg class="hide-leftnav-chevron"><title>close navigation menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg></button><ul class=leftnavroot><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>getting started</span></span></button><ul class=nested><li><a href=/docs/getting-started/>overview</a></li><li><a href=/docs/getting-started/installation/>install pypyr</a></li><li><a href=/docs/getting-started/run-your-first-pipeline/>run your first pipeline</a></li><li><a href=/docs/getting-started/basic-concepts/>basic concepts</a></li><li><a href=/docs/getting-started/variables/>variables</a></li><li><a href=/docs/getting-started/conditional-logic/>conditional logic</a></li><li><a href=/docs/getting-started/loops/>loops</a></li><li><a href=/docs/getting-started/error-handling/>error handling</a></li><li><a href=/docs/getting-started/config/>config</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>cli</span></span></button><ul class=nested><li><a href=/docs/cli/>overview</a></li><li><a href=/docs/cli/run-a-pipeline/>run a pipeline</a></li><li><a href=/docs/cli/custom-args/>custom args</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>pipelines</span></span></button><ul class=nested><li><a href=/docs/pipelines/>overview</a></li><li><a href=/docs/pipelines/pipeline-structure/>pipeline structure</a></li><li><a href=/docs/pipelines/lookup-order/>lookup order</a></li><li><a href=/docs/pipelines/shortcuts/>shortcuts</a></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>built-in</span></span></button><ul class=nested><li><a href=/docs/pipelines/built-in/>overview</a></li><li><a href=/docs/pipelines/built-in/config-show/>config-show</a></li><li><a href=/docs/pipelines/built-in/echo/>echo</a></li><li><a href=/docs/pipelines/built-in/magritte/>magritte</a></li><li><a href=/docs/pipelines/built-in/pypyrversion/>pypyrversion</a></li><li><a href=/docs/pipelines/built-in/venv-create/>venv-create</a></li></ul></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>context parsers</span></span></button><ul class=nested><li><a href=/docs/context-parsers/>overview</a></li><li><a href=/docs/context-parsers/dict/>dict</a></li><li><a href=/docs/context-parsers/json/>json</a></li><li><a href=/docs/context-parsers/jsonfile/>jsonfile</a></li><li><a href=/docs/context-parsers/keys/>keys</a></li><li><a href=/docs/context-parsers/keyvaluepairs/>keyvaluepairs</a></li><li><a href=/docs/context-parsers/list/>list</a></li><li><a href=/docs/context-parsers/string/>string</a></li><li><a href=/docs/context-parsers/tomlfile/>tomlfile</a></li><li><a href=/docs/context-parsers/yamlfile/>yamlfile</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>decorators</span></span></button><ul class=nested><li><a href=/docs/decorators/>overview</a></li><li><a href=/docs/decorators/comment/>comment</a></li><li><a href=/docs/decorators/description/>description</a></li><li><a href=/docs/decorators/foreach/>foreach</a></li><li><a href=/docs/decorators/in/>in</a></li><li><a href=/docs/decorators/onerror/>onError</a></li><li><a href=/docs/decorators/retry/>retry</a></li><li><a href=/docs/decorators/run/>run</a></li><li><a href=/docs/decorators/skip/>skip</a></li><li><a href=/docs/decorators/swallow/>swallow</a></li><li><a href=/docs/decorators/while/>while</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron nav-chevron-down"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>steps</span></span></button><ul class="nested expand"><li><a href=/docs/steps/>overview</a></li><li><a href=/docs/steps/add/>add</a></li><li><a href=/docs/steps/append/>append</a></li><li><a href=/docs/steps/assert/>assert</a></li><li><a href=/docs/steps/call/>call</a></li><li><a href=/docs/steps/cmd/>cmd</a></li><li><a href=/docs/steps/cmds/>cmds</a></li><li><a href=/docs/steps/configvars/>configvars</a></li><li><a href=/docs/steps/contextclear/>contextclear</a></li><li><a href=/docs/steps/contextclearall/>contextclearall</a></li><li><a href=/docs/steps/contextcopy/>contextcopy</a></li><li><a href=/docs/steps/contextmerge/>contextmerge</a></li><li><a href=/docs/steps/contextsetf/>contextsetf</a></li><li><a href=/docs/steps/debug/>debug</a></li><li><a href=/docs/steps/default/>default</a></li><li><a href=/docs/steps/echo/>echo</a></li><li><a href=/docs/steps/env/>env</a></li><li><a href=/docs/steps/envget/>envget</a></li><li><a href=/docs/steps/fetchjson/>fetchjson</a></li><li><a href=/docs/steps/fetchtoml/>fetchtoml</a></li><li><a href=/docs/steps/fetchyaml/>fetchyaml</a></li><li><a href=/docs/steps/fileformat/>fileformat</a></li><li><a href=/docs/steps/fileformatjson/>fileformatjson</a></li><li><a href=/docs/steps/fileformattoml/>fileformattoml</a></li><li><a href=/docs/steps/fileformatyaml/>fileformatyaml</a></li><li><a href=/docs/steps/fileread/>fileread</a></li><li><a href=/docs/steps/filereplace/>filereplace</a></li><li><a href=/docs/steps/filewrite/>filewrite</a></li><li><a href=/docs/steps/filewritejson/>filewritejson</a></li><li><a href=/docs/steps/filewritetoml/>filewritetoml</a></li><li><a href=/docs/steps/filewriteyaml/>filewriteyaml</a></li><li><a href=/docs/steps/glob/>glob</a></li><li><a href=/docs/steps/jsonparse/>jsonparse</a></li><li><a href=/docs/steps/jump/>jump</a></li><li><a href=/docs/steps/now/>now</a></li><li><a href=/docs/steps/nowutc/>nowutc</a></li><li><a href=/docs/steps/pathcheck/>pathcheck</a></li><li class=currentpage><a href=/docs/steps/py/>py</a></li><li><a href=/docs/steps/pyimport/>pyimport</a></li><li><a href=/docs/steps/pype/>pype</a></li><li><a href=/docs/steps/pypyrversion/>pypyrversion</a></li><li><a href=/docs/steps/python/>python</a></li><li><a href=/docs/steps/safeshell/>safeshell</a></li><li><a href=/docs/steps/set/>set</a></li><li><a href=/docs/steps/shell/>shell</a></li><li><a href=/docs/steps/shells/>shells</a></li><li><a href=/docs/steps/stop/>stop</a></li><li><a href=/docs/steps/stoppipeline/>stoppipeline</a></li><li><a href=/docs/steps/stopstepgroup/>stopstepgroup</a></li><li><a href=/docs/steps/tar/>tar</a></li><li><a href=/docs/steps/venv/>venv</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>substitutions</span></span></button><ul class=nested><li><a href=/docs/substitutions/>overview</a></li><li><a href=/docs/substitutions/format-string/>format string</a></li><li><a href=/docs/substitutions/jsonify/>jsonify</a></li><li><a href=/docs/substitutions/py-strings/>py string</a></li><li><a href=/docs/substitutions/sic-strings/>sic string</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>plugins</span></span></button><ul class=nested><li><a href=/docs/plugins/>overview</a></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>aws</span></span></button><ul class=nested><li><a href=/docs/plugins/aws/>overview</a></li><li><a href=/docs/plugins/aws/authentication/>authentication</a></li><li><a href=/docs/plugins/aws/substitutions/>substitutions</a></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>steps</span></span></button><ul class=nested><li><a href=/docs/plugins/aws/steps/>overview</a></li><li><a href=/docs/plugins/aws/steps/client/>client</a></li><li><a href=/docs/plugins/aws/steps/ecswaitprep/>ecswaitprep</a></li><li><a href=/docs/plugins/aws/steps/s3fetchjson/>s3fetchjson</a></li><li><a href=/docs/plugins/aws/steps/s3fetchyaml/>s3fetchyaml</a></li><li><a href=/docs/plugins/aws/steps/wait/>wait</a></li><li><a href=/docs/plugins/aws/steps/waitfor/>waitfor</a></li></ul></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>slack</span></span></button><ul class=nested><li><a href=/docs/plugins/slack/>overview</a></li><li><a href=/docs/plugins/slack/authentication/>authentication</a></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>steps</span></span></button><ul class=nested><li><a href=/docs/plugins/slack/steps/>overview</a></li><li><a href=/docs/plugins/slack/steps/send/>send</a></li></ul></li></ul></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>api</span></span></button><ul class=nested><li><a href=/docs/api/>overview</a></li><li><a href=/docs/api/custom-module-search-path/>custom module search path</a></li><li><a href=/docs/api/context-parser/>context parser</a></li><li><a href=/docs/api/pipeline-loader/>pipeline loader</a></li><li><a href=/docs/api/retry-backoff/>retry backoff</a></li><li><a href=/docs/api/run-pipeline/>run pipeline</a></li><li><a href=/docs/api/step/>step</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>contributing</span></span></button><ul class=nested><li><a href=/docs/contributing/>overview</a></li><li><a href=/docs/contributing/contribute-to-pypyr/>contribute to pypyr</a></li><li><a href=/docs/contributing/developers-guide/>developer's guide for pypyr</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>thank you</span></span></button><ul class=nested><li><a href=/docs/thank-you/>overview</a></li><li><a href=/docs/thank-you/built-with-hugo/>built with hugo</a></li><li><a href=/docs/thank-you/dependencies/>dependencies</a></li></ul></li></ul></nav><div class="docs-content content-grid"><ol class=breadcrumb vocab="http://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" href=https://pypyr.io/><span property="name">pypyr</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" href=https://pypyr.io/docs/><span property="name">docs</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" href=https://pypyr.io/docs/steps/><span property="name">steps</span></a><meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem"><span property="name">py</span><meta property="position" content="4"></li></ol><aside class="grid-toc elevation-02"><h6 id=table-of-contents>on this page</h6><nav id=TableOfContents><ol><li><a href=#run-inline-python>run inline python</a></li><li><a href=#multi-line-python-code-block>multi-line python code block</a></li><li><a href=#working-with-context>working with context</a><ol><li><a href=#save-values-to-context>save values to context</a></li><li><a href=#mutable-objects--scope>mutable objects & scope</a></li><li><a href=#reserved-keywords>reserved keywords</a></li></ol></li><li><a href=#using-built-ins-and-imports>using built-ins and imports</a></li><li><a href=#import-custom-modules>import custom modules</a></li><li><a href=#create-reusable-functions--classes>create reusable functions & classes</a></li><li><a href=#the-context-object-itself>the context object itself</a></li><li><a href=#example>example</a></li></ol></nav></aside><main class=grid-main><article><h1 id=pypyrstepspy>pypyr.steps.py <a href=#pypyrstepspy class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h1><h2 id=run-inline-python>run inline python <a href=#run-inline-python class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>Executes the context value <code>py</code> as a dynamically interpreted python code block.</p><p>This is useful for adding inline Python code right in your pipeline.</p><p>You can use all the usual <a href=https://docs.python.org/3/library/functions.html>Python
built-ins</a>
like <code>len</code>, <code>abs</code> and so forth. You
can import standard libraries or your own custom modules & objects using the
standard Python import syntax (e.g <code>import x as y</code>, <code>from x import y</code>).</p><p>For example, this will invoke python <code>print</code>, do some arbitrary addition and
print 2:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>Example of arb python code. Will print 2.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=l>print(1+1)</span></span></span></code></pre></div></div><h2 id=multi-line-python-code-block>multi-line python code block <a href=#multi-line-python-code-block class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>You can run multiple python statements in the same code block:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>multi-line statement starts with |, per yaml spec</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      print(f&#34;py step: {0+1}&#34;)
</span></span></span><span class=line><span class=cl><span class=sd>      
</span></span></span><span class=line><span class=cl><span class=sd>      arbvalue = 420
</span></span></span><span class=line><span class=cl><span class=sd>      print(arbvalue)
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      # save arbvalue to context
</span></span></span><span class=line><span class=cl><span class=sd>      save(&#39;arbvalue&#39;)</span><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>here splitting multi-line statements with ; </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>           </span><span class=l>arbvalue survives between steps.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=l>print(&#34;py step 2&#34;); arbvalue += 4</span></span></span></code></pre></div></div><p>You can use whichever of the standard yaml block scalar style & chomping
indicators work best for you. For example, <code>|-</code> will strip newlines at the end.</p><div class="admonition tip" role=figure><div class=admonition-tip-icon></div><div class=admonition-content><p>Do remember that if your inline code block gets unwieldy, you can very easily
run your own Python .py file from pypyr by using it as a
<a href=https://pypyr.io/docs/api/step/>custom step</a>.</p><p>All you have to do is add a <code>def run_step(context)</code> function to your <code>.py</code>
file.</p><p>You don&rsquo;t even have to package your python code - pypyr will automatically
resolve modules relative to the pipeline directory without you having to do
anything extra.</p></div></div><h2 id=working-with-context>working with context <a href=#working-with-context class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>When you are in a <code>py</code> step, context keys exist as variables of the same name.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.set</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>set some arbitrary values in context</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>set</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>existing_value</span><span class=p>:</span><span class=w> </span><span class=m>123</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>existing_list</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;one&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;two&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;three&#39;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>existing_dict</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>a</span><span class=p>:</span><span class=w> </span><span class=l>a value</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>b</span><span class=p>:</span><span class=w> </span><span class=l>b value</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>context keys are available as variables of the same name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      if existing_value &gt; 100:
</span></span></span><span class=line><span class=cl><span class=sd>        print(&#39;hello!&#39;)
</span></span></span><span class=line><span class=cl><span class=sd>      else:
</span></span></span><span class=line><span class=cl><span class=sd>        print(&#39;no no no!&#39;)
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      assert existing_list[1] == &#39;two&#39;
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      print(existing_dict[&#39;b&#39;])</span><span class=w>      </span></span></span></code></pre></div></div><h3 id=save-values-to-context>save values to context <a href=#save-values-to-context class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>A py step scope behaves like a Python function. Which is to say any variables
you assign inside the py-step will not persist after the step completes, unless
you are altering a mutable type in-place.</p><p>If you want to persist variables or key/values to context inside a <code>py</code> code
block so that these are available to subsequent steps, use the <code>save</code> function
explicitly to specify variable names that you want to save.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      a = 1
</span></span></span><span class=line><span class=cl><span class=sd>      b = 2
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      # save a &amp; and create c in context.
</span></span></span><span class=line><span class=cl><span class=sd>      save(&#39;a&#39;, c=b)</span><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>can use the new context values as normal in subsequent steps.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>We set {a} and {c} in the previous step.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>There is no b in context because it wasn&#39;t saved.</span></span></span></code></pre></div></div><p>The <code>save</code> function signature is:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>save</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span></span></span></code></pre></div></div><p>Arguments:</p><ul><li><code>args</code><ul><li>list of variable names to save to context.</li></ul></li><li><code>kwargs</code><ul><li>list of key=value pairs to save to context.</li></ul></li></ul><p>You can use <code>save</code> as a list of string arguments, or keywords if you want to
persist the input with a new name, or both. Here are some examples:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>save</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>)</span> <span class=c1># save contents of a to context as key &#39;a&#39;</span>
</span></span><span class=line><span class=cl><span class=n>save</span><span class=p>(</span><span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>)</span> <span class=c1># save contents of b and c to context as b and c respectively</span>
</span></span><span class=line><span class=cl><span class=n>save</span><span class=p>(</span><span class=n>d</span><span class=o>=</span><span class=n>d</span><span class=p>)</span> <span class=c1># save contents of d to context as key &#39;d&#39;</span>
</span></span><span class=line><span class=cl><span class=n>save</span><span class=p>(</span><span class=n>e</span><span class=o>=</span><span class=s1>&#39;arb value here&#39;</span><span class=p>)</span> <span class=c1># save new key to context from a literal or expression</span>
</span></span><span class=line><span class=cl><span class=n>save</span><span class=p>(</span><span class=n>ff</span><span class=o>=</span><span class=n>f</span><span class=p>,</span> <span class=n>gg</span><span class=o>=</span><span class=n>g</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span> <span class=c1># save variables to a different name</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># combine all the above &amp; create a new variable &#39;l&#39; on the fly</span>
</span></span><span class=line><span class=cl><span class=n>save</span><span class=p>(</span><span class=s1>&#39;h&#39;</span><span class=p>,</span> <span class=s1>&#39;i&#39;</span><span class=p>,</span> <span class=n>jj</span><span class=o>=</span><span class=n>j</span><span class=p>,</span> <span class=n>kk</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>l</span><span class=o>=</span><span class=nb>len</span><span class=p>(</span><span class=s1>&#39;arb expression&#39;</span><span class=p>))</span></span></span></code></pre></div></div><p>Important, when you just specify object names to save, you have to specify the
name of the variable, not the object itself. Simply put, surround it with
quotes!</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>this is WRONG</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      my_var = 123
</span></span></span><span class=line><span class=cl><span class=sd>      another_var = 456
</span></span></span><span class=line><span class=cl><span class=sd>      save(&#39;myvar&#39;, &#39;another_var&#39;) # NOT save(myvar, another_var)</span><span class=w>      </span></span></span></code></pre></div></div><h3 id=mutable-objects--scope>mutable objects & scope <a href=#mutable-objects--scope class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>Your code inside the <code>py</code> step is an enclosed scope. It behaves like a Python
function usually does - context variables pass by assignment. This means that:</p><ul><li>local assignments to immutable objects do not persist outside of the enclosed
scope.</li><li>in-place changes to mutable objects will persist to context after the py step
completes.</li></ul><p>This means that strictly speaking you do not need to call <code>save</code> to persist
in-place changes to mutable objects - but you won&rsquo;t break anything if you do, so
don&rsquo;t worry about it.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.set</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>set</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>existing_value</span><span class=p>:</span><span class=w> </span><span class=m>123</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>existing_list</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;one&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;two&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;three&#39;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>existing_dict</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>a</span><span class=p>:</span><span class=w> </span><span class=l>a value</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>b</span><span class=p>:</span><span class=w> </span><span class=l>b value</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>context vars behave like args to a python function</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      # immutable type re-assignment is local to the current step
</span></span></span><span class=line><span class=cl><span class=sd>      existing_value = max(420, 69)
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      # in-place mutable edits endure outside of the current scope
</span></span></span><span class=line><span class=cl><span class=sd>      existing_list[0] = &#39;mutable types will update&#39;
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      existing_dict[&#39;a&#39;] = &#39;mutable types will update&#39;</span><span class=w>      </span></span></span></code></pre></div></div><p>This will result in context like this:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=p>{</span><span class=s1>&#39;existing_dict&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=s1>&#39;mutable types will update&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                   <span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=s1>&#39;b value&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl> <span class=s1>&#39;existing_list&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;mutable types will update&#39;</span><span class=p>,</span> <span class=s1>&#39;two&#39;</span><span class=p>,</span> <span class=s1>&#39;three&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl> <span class=s1>&#39;existing_value&#39;</span><span class=p>:</span> <span class=mi>123</span><span class=p>}</span></span></span></code></pre></div></div><p>Notice that the immutable value change did not persist to <code>existing_value</code>, but
the in-place changes to the dict and the list did persist.</p><h3 id=reserved-keywords>reserved keywords <a href=#reserved-keywords class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><div class="admonition warn" role=figure><div class=admonition-warn-icon></div><div class=admonition-content>If you have your own key in context named <code>save</code>, it will not be accessible in
the <code>py</code> style step, because the <code>save()</code> function hides the name. pypyr won&rsquo;t
touch your original <code>save</code> key + value, it&rsquo;s just hidden for the duration of
the py step. Either use a different name for your key, or use the <code>pycode</code>
style input for the py step.</div></div><h2 id=using-built-ins-and-imports>using built-ins and imports <a href=#using-built-ins-and-imports class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>All of Python&rsquo;s built-ins and standard library modules are available to you. You
import like you usually do in Python.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>using imports</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>arb_url</span><span class=p>:</span><span class=w> </span><span class=l>http://arbhost/blah</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      # different styles of python import syntax
</span></span></span><span class=line><span class=cl><span class=sd>      from math import sqrt
</span></span></span><span class=line><span class=cl><span class=sd>      import urllib.parse
</span></span></span><span class=line><span class=cl><span class=sd>          
</span></span></span><span class=line><span class=cl><span class=sd>      # use imported code like sqrt from math
</span></span></span><span class=line><span class=cl><span class=sd>      arbvalue = sqrt(1764)
</span></span></span><span class=line><span class=cl><span class=sd>          
</span></span></span><span class=line><span class=cl><span class=sd>      # use builtin functions like int()
</span></span></span><span class=line><span class=cl><span class=sd>      print(int(arbvalue))
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      host = urllib.parse.urlparse(arb_url).netloc
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      # use builtin functions like len()
</span></span></span><span class=line><span class=cl><span class=sd>      print(len(host))</span><span class=w>      </span></span></span></code></pre></div></div><h2 id=import-custom-modules>import custom modules <a href=#import-custom-modules class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>You can also import your own custom modules and objects, as long as they resolve
in the current Python environment.</p><p>To help with this, pypyr also looks in the current pipeline&rsquo;s directory for your
<code>.py</code> files. This means you can use ad hoc modules saved next to your pipeline
without having to package & publish the code to the current environment first.</p><p>See here for a full details of <a href=https://pypyr.io/docs/api/custom-module-search-path/>pypyr custom module import resolution rules</a>.</p><p>Assume you have a python file saved in a <code>mydir</code> sub-directory like this:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ./mydir/mymodule.py</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>arb_function</span><span class=p>(</span><span class=n>arb_arg</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=sa>f</span><span class=s1>&#39;arb_function says: </span><span class=si>{</span><span class=n>arb_arg</span><span class=si>}</span><span class=s1>&#39;</span></span></span></code></pre></div></div><p>Because pypyr will also look in the current pipeline&rsquo;s directory for modules,
<code>mydir.mymodule</code> will resolve on <code>import</code> without you having to do anything
special and without you having to package & install the code first.</p><p>So you can just use this file <code>./mydir/mymodule.py</code> from your pipeline like
this:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>import custom modules relative to pipeline dir</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      from mydir.mymodule import arb_function
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      out = arb_function(&#39;my input&#39;)</span><span class=w>      </span></span></span></code></pre></div></div><h2 id=create-reusable-functions--classes>create reusable functions & classes <a href=#create-reusable-functions--classes class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>You can declare your own functions and classes in a py step. You can use these
in the py step itself, and you can also use these in subsequent py steps or in
<a href=https://pypyr.io/docs/substitutions/py-strings/>!py strings</a> if you
<code>save</code> the function or class object to context:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>create re-usable functions &amp; classes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      class MyClass():
</span></span></span><span class=line><span class=cl><span class=sd>        attribute = &#39;my class!&#39;
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        def do_thing(self, my_arg):
</span></span></span><span class=line><span class=cl><span class=sd>          return my_arg + 1
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      
</span></span></span><span class=line><span class=cl><span class=sd>      def my_function(arg1, arg2):
</span></span></span><span class=line><span class=cl><span class=sd>        return arg1 + arg2
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      # call your function like you normally do
</span></span></span><span class=line><span class=cl><span class=sd>      result = my_function(420, 69)
</span></span></span><span class=line><span class=cl><span class=sd>      
</span></span></span><span class=line><span class=cl><span class=sd>      # instantiate &amp; use your class like usual
</span></span></span><span class=line><span class=cl><span class=sd>      MyClass().do_thing(42069)
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      # save to context to use class &amp; function in subsequent steps
</span></span></span><span class=line><span class=cl><span class=sd>      save(&#39;my_function&#39;, &#39;MyClass&#39;)</span><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>re-use class &amp; function previously saved to context</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      my_instance = MyClass()
</span></span></span><span class=line><span class=cl><span class=sd>      my_instance.do_thing(123)
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      for i in range(3):
</span></span></span><span class=line><span class=cl><span class=sd>        my_function(i, 3)</span><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.set</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>re-use class &amp; function anywhere you can use a !py string.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>run</span><span class=p>:</span><span class=w> </span>!<span class=l>py my_function(1, 2) == 3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>set</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>new_key</span><span class=p>:</span><span class=w> </span>!<span class=l>py MyClass().do_thing(456)</span></span></span></code></pre></div></div><h2 id=the-context-object-itself>the context object itself <a href=#the-context-object-itself class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>If you want access to the entire context dictionary object itself, rather than
just its contents, you can use the alternative <code>pycode</code> input to the
<code>pypyr.steps.py</code> step.</p><p>When you use the <code>pycode</code> input, context exists as a dictionary-like object
named <code>context</code>. All the usual python <code>dict</code> methods are available.</p><p>In general, you probably should prefer using the <code>py</code> style input - although
both styles do the same thing, it&rsquo;s much less annoying and error-prone not to
have to type out the dictionary accessors all the time. The <code>pycode</code> style
input is not particularly more &ldquo;advanced&rdquo;, or &ldquo;better&rdquo;, but it will be somewhat
faster and also use less memory than the <code>py</code> style. By &ldquo;somewhat&rdquo;, meaning that
the performance differential is likely to be so small that you won&rsquo;t notice
unless your context is exceptionally big.</p><p>In the following example, you can see how to access the context object, add or
update values & how to import other modules:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.set</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>set arb context to manipulate in the next step</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>set</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>existing_key</span><span class=p>:</span><span class=w> </span><span class=l>existing value</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>existing_dict</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>a</span><span class=p>:</span><span class=w> </span><span class=l>a value</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>b</span><span class=p>:</span><span class=w> </span><span class=m>123</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>runs arb python using context from previous step</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>also sets some new values in context.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># multi-line statement starts with |, per yaml spec</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pycode</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      import math
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      print(f&#34;py step: {0+1}&#34;)
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      context[&#39;arbvalue&#39;] = math.sqrt(36)
</span></span></span><span class=line><span class=cl><span class=sd>      print(context[&#39;arbvalue&#39;])
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      context[&#39;existing_key&#39;] = &#39;updated value&#39;
</span></span></span><span class=line><span class=cl><span class=sd>      context[&#39;existing_dict&#39;][&#39;a&#39;] = &#39;a value set in py step&#39;
</span></span></span><span class=line><span class=cl><span class=sd>      context[&#39;existing_dict&#39;][&#39;b&#39;] = 456
</span></span></span><span class=line><span class=cl><span class=sd>      context[&#39;existing_dict&#39;][&#39;new_key&#39;] = [&#39;zero&#39;, &#39;one&#39;, 2, &#39;three&#39;]
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      print(len(context))</span><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>context[&#39;arbvalue&#39;] survives between steps.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># here splitting multi-line statements with ;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pycode</span><span class=p>:</span><span class=w> </span><span class=l>print(&#34;py step 2&#34;); context[&#39;arbvalue&#39;] += 4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      arbvalue is {arbvalue} and existing_key is now {existing_key}
</span></span></span><span class=line><span class=cl><span class=sd>      you can worked with nested values too: {existing_dict[a]} - {existing_dict[b]}</span><span class=w>      </span></span></span></code></pre></div></div><p>These steps will output:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>py step: 1
</span></span><span class=line><span class=cl>6.0
</span></span><span class=line><span class=cl>4
</span></span><span class=line><span class=cl>context[&#39;arbvalue&#39;] survives between steps.
</span></span><span class=line><span class=cl>py step 2
</span></span><span class=line><span class=cl>arbvalue is 10.0 and existing_key is now updated value
</span></span><span class=line><span class=cl>you can worked with nested values too: a value set in py step - 456</span></span></code></pre></div></div><div class="admonition tip" role=figure><div class=admonition-tip-icon></div><div class=admonition-content><p>When you use the <code>pycode</code> style you don&rsquo;t need to use <code>save()</code> to persist
values back to context, since you are working directly with the mutable
<code>context</code> object itself. If you want to update, edit or remove a value, it&rsquo;s up
to you to persist the change with <code>context['mykey'] = 'added/updated value'</code>.</p><p><code>save()</code> is only available when you use the <code>py</code> style input.</p></div></div><h2 id=example>example <a href=#example class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>See a worked <a href=https://github.com/pypyr/pypyr-example/tree/main/pipelines/py.yaml>example of inline python using py
style</a> and
<a href=https://github.com/pypyr/pypyr-example/tree/main/pipelines/py-code.yaml>example of inline python using py-code
style</a>.</p></article><section class="see-also elevation-02"><h2>see also</h2><ul><li><a href=/docs/steps/pyimport/>pypyr.steps.pyimport</a></li><li><a href=/docs/substitutions/py-strings/>py string - dynamic python expressions</a></li></ul></section></main><aside class="grid-taxonomy elevation-02"><section class=page-taxonomy aria-label="related topics"><h6>topics</h6><ul id=topics class=small-list><li><a href=https://pypyr.io/topics/inline-code/ class=muted-with-hover>inline code</a></li></ul></section><section class=page-taxonomy aria-label="related categories"><h6>categories</h6><ul id=categories class=small-list><li><a href=https://pypyr.io/categories/steps/ class=muted-with-hover>steps</a></li></ul></section></aside><aside class="grid-improve elevation-02" aria-labelledby=feedback><h6 id=feedback>feedback</h6><ul class=small-list><li><a href=https://github.com/pypyr/docs/edit/main/content/docs/steps/py.md class=muted-with-hover>edit me</a></li><li><a href="https://github.com/pypyr/docs/issues/new?title=docs%20issue:pypyr.steps.py&body=File:%20[pypyr.steps.py]%28https://pypyr.io/docs/steps/py/%29" class=muted-with-hover>report typo</a></li><li><a href="https://github.com/pypyr/pypyr/issues/new?title=Re:%20pypyr.steps.py&labels=bug" class=muted-with-hover>report bug!</a></li></ul></aside><div class="page-git-info elevation-02"><small class=small-block>last updated on <time datetime=2022-02-21T12:02:12Z>2022-02-21 12:02</time>.</small></div></div><footer class="footer elevation-01"><a href=/ class=top-nav-logo aria-label=home><img class=top-nav-logo-img src=https://pypyr.io/images/pypyr-logotype.2c9aa98c472f0ea8d436597c26ef1b0f042624ee19cdf69bcb89ac0025d146c4.svg alt="pypyr logo"></a><div class=col-1fr-centered><ul class=footer-social-links aria-label="social media links"><li><a href=https://twitter.com/pypyrpipes/ class=footer-social-link><div class=footer-social-links-pre><svg viewBox="0 0 400 400"><title>twitter link</title><use xlink:href="https://pypyr.io/icons/twitter-social-icon-circle-white.d715a98bf8d7170b3d2603d836ca675616731d85583c13d23ec468905e77c59a.svg#twitter-icon"/></svg></div><small>twitter</small></a></li><li><a href=https://github.com/pypyr/pypyr/ class=footer-social-link><div class=footer-social-links-pre><svg viewBox="0 0 32.58 31.77"><title>github link</title><use xlink:href="https://pypyr.io/icons/github-icon.778bc8065fb7e8d1e7109b270cfbd86e15e05bb16ebff30d261935e4bc1560bd.svg#github-icon"/></svg></div><small>github</small></a></li><li><a href=https://github.com/pypyr/pypyr/discussions class=footer-social-link><div class=footer-social-links-pre><svg viewBox="0 0 16 16"><title>discussion forum link</title><use xlink:href="https://pypyr.io/icons/discussions.a9f14951d81276183aaea73b6d616db95326f8f16350b221d9d6d48ee5a0b16e.svg#discussions-icon"/></svg></div><small>forum</small></a></li></ul><ul class=footer-notices-links aria-label="legal notices"><li><a href=/legal/privacy-notice class=muted-with-hover><small>privacy</small></a></li><li><a href=/legal/licensing class=muted-with-hover><small>licensing</small></a></li><li><a href=/press-kit class=muted-with-hover><small>press</small></a></li></ul></div></footer><div class=bottom-spacer aria-hidden=true></div><div id=disabled-state-overlay aria-hidden=true class="disabled-state-overlay hide-overlay"></div></body></html>