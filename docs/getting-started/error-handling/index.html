<!doctype html><html lang=en dir=ltr prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>error handling</title>
<meta name=description content="Retry, swallow or ignore errors in a pipeline. Add extra diagnostic info to exceptions."><link rel=stylesheet href=https://pypyr.io/css/styles.min.03cb48f10eda814e641f56fc73da7510ff1da02c8eff50ad9ff1ba411a5a3ba3.css integrity="sha256-A8tI8Q7agU5kH1b8c9p1EP8doCyO/1Ctn/G6QRpaO6M="><link rel=stylesheet href=https://pypyr.io/css/code-highlight.min.78f63f1d4f45beaf423efd3dc8e6914c2abdca1b5391cd91368a32efecd9d7e3.css integrity="sha256-ePY/HU9Fvq9CPv09yOaRTCq9yhtTkc2RNooy7+zZ1+M="><script defer src=https://pypyr.io/js/script.min.91263db5f27c955af051b264cd9eda63102d476e77c28fb44032a2432be2cfc1.js integrity="sha256-kSY9tfJ8lVrwUbJkzZ7aYxAtR253wo+0QDKiQyviz8E="></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700%7cRoboto+Mono:400,400i&amp;display=swap" rel=stylesheet><link rel=canonical href=https://pypyr.io/docs/getting-started/error-handling/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-147150909-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-147150909-1")</script><meta property="og:description" content="Retry, swallow or ignore errors in a pipeline. Add extra diagnostic info to exceptions."><meta property="og:image" content="https://pypyr.io/images/1.91x1/pypyr-taskrunner-yaml-pipeline-automation-1200x628.5aa6465b3b9d2ca8d0d5a9f794ba7f379c522a8ba503129f2a35d2479ea2452d.png"><meta property="og:image:alt" content="pypyr is an open-source task-runner for automation pipelines defined in simple human-readable yaml."><meta property="og:image:height" content="628"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:site_name" content="pypyr"><meta property="og:title" content="Overview of error handling in a task-runner pipeline."><meta property="og:type" content="article"><meta property="og:url" content="https://pypyr.io/docs/getting-started/error-handling/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@pypyrpipes"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@id":"https://pypyr.io/#organization","@type":"Organization","name":"pypyr","url":"https://pypyr.io/","description":"The pypyr project is a free open-source task-runner cli \u0026 python api for automation pipelines.","logo":{"@type":"ImageObject","url":"https://pypyr.io/images/pypyr-taskrunner-logo-square.63875e43ff40d8ae40e93a6043b4328b962f54f52974aaa27cedec52220de665.svg","height":112,"width":112},"sameAs":["https://github.com/pypyr/","https://twitter.com/pypyrpipes/","https://pypi.org/user/pypyr/","https://hub.docker.com/u/pypyr/","https://en.gravatar.com/pypyr/"]},{"@type":"Article","author":{"@type":"Person","name":"pypyr contributor","url":"https://pypyr.io/"},"articleSection":"getting started","dateModified":"2022-10-19T15:53:16+01:00","datePublished":"2020-08-13T00:00:00Z","headline":"Overview of error handling in a task-runner pipeline.","image":[{"@type":"ImageObject","url":"https://pypyr.io/images/1x1/pypyr-taskrunner-yaml-pipeline-automation-1200x1200.52764d3c6f40232b3cdc33f5b8fbaeadad56cc310c8dd5588d30828296b5290d.png","height":1200,"width":1200},{"@type":"ImageObject","url":"https://pypyr.io/images/4x3/pypyr-taskrunner-yaml-pipeline-automation-1200x900.e8e70443377aeb11c190835e8d2ed0c844d31a82a0c2e8a744a9999cd03e0de9.png","height":900,"width":1200},{"@type":"ImageObject","url":"https://pypyr.io/images/16x9/pypyr-taskrunner-yaml-pipeline-automation-1920x1080.cc9ae11626c8312e087058adb13bfff702162ce39c355065170c1b87850f3034.png","height":1080,"width":1920}],"inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https://pypyr.io/docs/getting-started/error-handling/"},"publisher":{"@id":"https://pypyr.io/#organization"},"thumbnailUrl":"https://pypyr.io/images/pypyr-taskrunner-logo-square.63875e43ff40d8ae40e93a6043b4328b962f54f52974aaa27cedec52220de665.svg","url":"https://pypyr.io/docs/getting-started/error-handling/","wordCount":1732}]}</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3><script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3 type=module></script><link rel=stylesheet href=https://pypyr.io/css/search.min.eb5376cfd2278d6fc1ad663445c5c2a0056bace2fc13a714f701d8d34cb8555f.css integrity="sha256-61N2z9InjW/BrWY0RcXCoAVrrOL8E6cU9wHY00y4VV8="><script src=https://pypyr.io/js/search.min.5d2b2bb8feb4ea203b5191a2eec72d1cdc27c4e33707ed1fbbf0f473a77f25e1.js integrity="sha256-XSsruP606iA7UZGi7sctHNwnxOM3B+0fu/D0c6d/JeE=" type=module></script><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.925deabb48d91a80924b5d04ff56d2b8f42ba1d1e1438cb7d8948cce1138208c.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.b869433d27c4679a5fbce03a8489268a539cbc781259bff14618ae2f018334e6.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.8bcd9f870e0a86445e0505ce6e816b76a40b08a06e2dcd1ec1f90c395ecbeaf6.png><link rel=manifest href=/favicons/site.3dad2bd5063ad6bc11f741ea28adf4df8b9370196f6e64af6789cf181cef05c6.webmanifest><link rel="shortcut icon" href=/favicons/favicon.4a2a3dffd965a7c571df0375e35f59307bc72adc08e3ef7021d5d5f02e6ef5a8.ico><meta name=msapplication-TileColor content="#00aba9"><meta name=msapplication-config content="/favicons/browserconfig.bbdaec7f39b7bd1f2d6bc484afdd0c7246e3af9c5b45d91198d8a3b42e024e1f.xml"><meta name=theme-color content="#121212"></head><body class=docs-grid><div class=header-grid><header class="header elevation-01"><a href=/ class=top-nav-logo aria-label=home><img class=top-nav-logo-img src=https://pypyr.io/images/pypyr-logotype.2c9aa98c472f0ea8d436597c26ef1b0f042624ee19cdf69bcb89ac0025d146c4.svg alt="pypyr logo"></a><nav class=top-nav-links aria-label="top navigation"><ul><li><a href=/docs/ class=top-active>docs</a></li><li><a href=/updates/>updates</a></li><li><a href=/topics/>topics</a></li><li><a href=https://twitter.com/pypyrpipes/><span class=top-nav-links-pre><svg viewBox="0 0 250 203.18"><title>twitter link</title><use xlink:href="https://pypyr.io/images/twitter-logo.4bee83a61c7b1a567b9a00ea1ac9388de3b16ffbffac9e228f998a5411894c59.svg#twitter-logo"/></svg></span></a></li><li><a href=https://github.com/pypyr/pypyr/><span class=top-nav-links-pre><svg viewBox="0 0 477 97.41"><title>github repo</title><use xlink:href="https://pypyr.io/images/github-mark-and-logo.5df312655c6a99a4953b544d02b13a948fa4d66bda21e772206f0ed96663f05b.svg#github-mark-and-logo"/></svg></span></a></li></ul></nav></header><div class="search-bar elevation-01"><div id=docsearch></div></div></div><button id=show-leftnav class="neutral-button icon-button primary-button"><svg class="show-leftnav-chevron"><title>open main navigation menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg></button><nav id=leftnavmenu class="leftnavmenu elevation-03" aria-label="Primary Navigation"><button id=hide-leftnav class="neutral-button icon-button"><svg class="hide-leftnav-chevron"><title>close navigation menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg></button><ul class=leftnavroot><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron nav-chevron-down"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>getting started</span></span></button><ul class="nested expand"><li><a href=/docs/getting-started/>overview</a></li><li><a href=/docs/getting-started/installation/>install pypyr</a></li><li><a href=/docs/getting-started/run-your-first-pipeline/>run your first pipeline</a></li><li><a href=/docs/getting-started/basic-concepts/>basic concepts</a></li><li><a href=/docs/getting-started/variables/>variables</a></li><li><a href=/docs/getting-started/conditional-logic/>conditional logic</a></li><li><a href=/docs/getting-started/loops/>loops</a></li><li class=currentpage><a href=/docs/getting-started/error-handling/>error handling</a></li><li><a href=/docs/getting-started/config/>config</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>cli</span></span></button><ul class=nested><li><a href=/docs/cli/>overview</a></li><li><a href=/docs/cli/run-a-pipeline/>run a pipeline</a></li><li><a href=/docs/cli/custom-args/>custom args</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>pipelines</span></span></button><ul class=nested><li><a href=/docs/pipelines/>overview</a></li><li><a href=/docs/pipelines/pipeline-structure/>pipeline structure</a></li><li><a href=/docs/pipelines/lookup-order/>lookup order</a></li><li><a href=/docs/pipelines/composability/>composability</a></li><li><a href=/docs/pipelines/shortcuts/>shortcuts</a></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>built-in</span></span></button><ul class=nested><li><a href=/docs/pipelines/built-in/>overview</a></li><li><a href=/docs/pipelines/built-in/config-show/>config-show</a></li><li><a href=/docs/pipelines/built-in/echo/>echo</a></li><li><a href=/docs/pipelines/built-in/magritte/>magritte</a></li><li><a href=/docs/pipelines/built-in/pypyrversion/>pypyrversion</a></li><li><a href=/docs/pipelines/built-in/venv-create/>venv-create</a></li></ul></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>context parsers</span></span></button><ul class=nested><li><a href=/docs/context-parsers/>overview</a></li><li><a href=/docs/context-parsers/argskwargs/>argskwargs</a></li><li><a href=/docs/context-parsers/dict/>dict</a></li><li><a href=/docs/context-parsers/json/>json</a></li><li><a href=/docs/context-parsers/jsonfile/>jsonfile</a></li><li><a href=/docs/context-parsers/keys/>keys</a></li><li><a href=/docs/context-parsers/keyvaluepairs/>keyvaluepairs</a></li><li><a href=/docs/context-parsers/list/>list</a></li><li><a href=/docs/context-parsers/string/>string</a></li><li><a href=/docs/context-parsers/tomlfile/>tomlfile</a></li><li><a href=/docs/context-parsers/yamlfile/>yamlfile</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>decorators</span></span></button><ul class=nested><li><a href=/docs/decorators/>overview</a></li><li><a href=/docs/decorators/comment/>comment</a></li><li><a href=/docs/decorators/description/>description</a></li><li><a href=/docs/decorators/foreach/>foreach</a></li><li><a href=/docs/decorators/in/>in</a></li><li><a href=/docs/decorators/onerror/>onError</a></li><li><a href=/docs/decorators/retry/>retry</a></li><li><a href=/docs/decorators/run/>run</a></li><li><a href=/docs/decorators/skip/>skip</a></li><li><a href=/docs/decorators/swallow/>swallow</a></li><li><a href=/docs/decorators/while/>while</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>steps</span></span></button><ul class=nested><li><a href=/docs/steps/>overview</a></li><li><a href=/docs/steps/add/>add</a></li><li><a href=/docs/steps/append/>append</a></li><li><a href=/docs/steps/assert/>assert</a></li><li><a href=/docs/steps/call/>call</a></li><li><a href=/docs/steps/cmd/>cmd</a></li><li><a href=/docs/steps/cmds/>cmds</a></li><li><a href=/docs/steps/configvars/>configvars</a></li><li><a href=/docs/steps/contextclear/>contextclear</a></li><li><a href=/docs/steps/contextclearall/>contextclearall</a></li><li><a href=/docs/steps/contextcopy/>contextcopy</a></li><li><a href=/docs/steps/contextmerge/>contextmerge</a></li><li><a href=/docs/steps/contextsetf/>contextsetf</a></li><li><a href=/docs/steps/debug/>debug</a></li><li><a href=/docs/steps/default/>default</a></li><li><a href=/docs/steps/echo/>echo</a></li><li><a href=/docs/steps/env/>env</a></li><li><a href=/docs/steps/envget/>envget</a></li><li><a href=/docs/steps/fetchjson/>fetchjson</a></li><li><a href=/docs/steps/fetchtoml/>fetchtoml</a></li><li><a href=/docs/steps/fetchyaml/>fetchyaml</a></li><li><a href=/docs/steps/fileformat/>fileformat</a></li><li><a href=/docs/steps/fileformatjson/>fileformatjson</a></li><li><a href=/docs/steps/fileformattoml/>fileformattoml</a></li><li><a href=/docs/steps/fileformatyaml/>fileformatyaml</a></li><li><a href=/docs/steps/fileread/>fileread</a></li><li><a href=/docs/steps/filereplace/>filereplace</a></li><li><a href=/docs/steps/filewrite/>filewrite</a></li><li><a href=/docs/steps/filewritejson/>filewritejson</a></li><li><a href=/docs/steps/filewritetoml/>filewritetoml</a></li><li><a href=/docs/steps/filewriteyaml/>filewriteyaml</a></li><li><a href=/docs/steps/glob/>glob</a></li><li><a href=/docs/steps/jsonparse/>jsonparse</a></li><li><a href=/docs/steps/jump/>jump</a></li><li><a href=/docs/steps/now/>now</a></li><li><a href=/docs/steps/nowutc/>nowutc</a></li><li><a href=/docs/steps/pathcheck/>pathcheck</a></li><li><a href=/docs/steps/py/>py</a></li><li><a href=/docs/steps/pyimport/>pyimport</a></li><li><a href=/docs/steps/pype/>pype</a></li><li><a href=/docs/steps/pypyrversion/>pypyrversion</a></li><li><a href=/docs/steps/python/>python</a></li><li><a href=/docs/steps/safeshell/>safeshell</a></li><li><a href=/docs/steps/set/>set</a></li><li><a href=/docs/steps/shell/>shell</a></li><li><a href=/docs/steps/shells/>shells</a></li><li><a href=/docs/steps/stop/>stop</a></li><li><a href=/docs/steps/stoppipeline/>stoppipeline</a></li><li><a href=/docs/steps/stopstepgroup/>stopstepgroup</a></li><li><a href=/docs/steps/switch/>switch</a></li><li><a href=/docs/steps/tar/>tar</a></li><li><a href=/docs/steps/venv/>venv</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>substitutions</span></span></button><ul class=nested><li><a href=/docs/substitutions/>overview</a></li><li><a href=/docs/substitutions/format-string/>format string</a></li><li><a href=/docs/substitutions/jsonify/>jsonify</a></li><li><a href=/docs/substitutions/py-strings/>py string</a></li><li><a href=/docs/substitutions/sic-strings/>sic string</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>plugins</span></span></button><ul class=nested><li><a href=/docs/plugins/>overview</a></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>aws</span></span></button><ul class=nested><li><a href=/docs/plugins/aws/>overview</a></li><li><a href=/docs/plugins/aws/authentication/>authentication</a></li><li><a href=/docs/plugins/aws/substitutions/>substitutions</a></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>steps</span></span></button><ul class=nested><li><a href=/docs/plugins/aws/steps/>overview</a></li><li><a href=/docs/plugins/aws/steps/client/>client</a></li><li><a href=/docs/plugins/aws/steps/ecswaitprep/>ecswaitprep</a></li><li><a href=/docs/plugins/aws/steps/s3fetchjson/>s3fetchjson</a></li><li><a href=/docs/plugins/aws/steps/s3fetchyaml/>s3fetchyaml</a></li><li><a href=/docs/plugins/aws/steps/wait/>wait</a></li><li><a href=/docs/plugins/aws/steps/waitfor/>waitfor</a></li></ul></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>slack</span></span></button><ul class=nested><li><a href=/docs/plugins/slack/>overview</a></li><li><a href=/docs/plugins/slack/authentication/>authentication</a></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>steps</span></span></button><ul class=nested><li><a href=/docs/plugins/slack/steps/>overview</a></li><li><a href=/docs/plugins/slack/steps/send/>send</a></li></ul></li></ul></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>api</span></span></button><ul class=nested><li><a href=/docs/api/>overview</a></li><li><a href=/docs/api/custom-module-search-path/>custom module search path</a></li><li><a href=/docs/api/context-parser/>context parser</a></li><li><a href=/docs/api/pipeline-loader/>pipeline loader</a></li><li><a href=/docs/api/retry-backoff/>retry backoff</a></li><li><a href=/docs/api/run-pipeline/>run pipeline</a></li><li><a href=/docs/api/step/>step</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>loaders</span></span></button><ul class=nested><li><a href=/docs/loaders/>overview</a></li><li><a href=/docs/loaders/file/>file</a></li><li><a href=/docs/loaders/string/>string</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>contributing</span></span></button><ul class=nested><li><a href=/docs/contributing/>overview</a></li><li><a href=/docs/contributing/contribute-to-pypyr/>contribute to pypyr</a></li><li><a href=/docs/contributing/developers-guide/>developer's guide for pypyr</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>thank you</span></span></button><ul class=nested><li><a href=/docs/thank-you/>overview</a></li><li><a href=/docs/thank-you/built-with-hugo/>built with hugo</a></li><li><a href=/docs/thank-you/dependencies/>dependencies</a></li></ul></li></ul></nav><div class="docs-content content-grid"><ol class=breadcrumb vocab="http://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" href=https://pypyr.io/><span property="name">pypyr</span></a>
<meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" href=https://pypyr.io/docs/><span property="name">docs</span></a>
<meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" href=https://pypyr.io/docs/getting-started/><span property="name">getting started</span></a>
<meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem"><span property="name">error handling</span>
<meta property="position" content="4"></li></ol><aside class="grid-toc elevation-02"><h6 id=table-of-contents>on this page</h6><nav id=TableOfContents><ol><li><a href=#stop-all-processing-on-error>stop all processing on error</a></li><li><a href=#ignore-error-on-a-step>ignore error on a step</a></li><li><a href=#retry-on-error>retry on error</a></li><li><a href=#failure-handlers>failure handlers</a><ol><li><a href=#set-your-own-failure-handler>set your own failure handler</a><ol><li><a href=#from-the-cli>from the cli</a></li><li><a href=#when-calling-a-pipeline>when calling a pipeline</a></li><li><a href=#within-a-pipeline>within a pipeline</a></li></ol></li><li><a href=#call-or-jump-in-failure-handler>call or jump in failure handler</a></li></ol></li><li><a href=#dont-quit-pipeline-reporting-failure>don&rsquo;t quit pipeline reporting failure</a></li><li><a href=#use-runtime-error-details-inside-pipeline>use runtime error details inside pipeline</a><ol><li><a href=#using-error-information-in-subsequent-steps>using error information in subsequent steps</a></li></ol></li><li><a href=#add-extra-error-information>add extra error information</a></li><li><a href=#raise-a-custom-error>raise a custom error</a><ol><li><a href=#assertion-error>assertion error</a></li><li><a href=#custom-error>custom error</a></li></ol></li></ol></nav></aside><main class=grid-main><article><h1 id=error-handling>error handling <a href=#error-handling class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h1><h2 id=stop-all-processing-on-error>stop all processing on error <a href=#stop-all-processing-on-error class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>pypyr runs pipelines. . . and a pipeline is a sequence of steps. By default
subsequent steps in the sequence should not run if a previous step failed.</p><p>If your desired behavior is for pipeline processing to stop and subsequent steps
NOT to run once an error occurs somewhere, you don&rsquo;t have to do anything
special, because this is what pypyr does by default.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>A</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>deliberately raise arbitrary error</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=l>raise ValueError(&#39;arb&#39;)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>this step will never run,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>because the previous step</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>always fails.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>unreachable</span></span></span></code></pre></div></div><h2 id=ignore-error-on-a-step>ignore error on a step <a href=#ignore-error-on-a-step class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>You can ignore an error on a specific step by setting the
<a href=https://pypyr.io/docs/decorators/swallow/>swallow step decorator</a> to <code>True</code>.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>A</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>swallow</span><span class=p>:</span><span class=w> </span><span class=kc>True</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=l>raise ValueError(&#39;arb&#39;)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>You&#39;ll see me, because you told pypyr to swallow the error in the previous step.</span></span></span></code></pre></div></div><h2 id=retry-on-error>retry on error <a href=#retry-on-error class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>You can make a any step retry automatically on error by setting the <a href=https://pypyr.io/docs/decorators/retry/>retry
step decorator</a>.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>automatically retry curl to an unreliable url.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>pipeline proceeds with next step as soon as curl succeeds.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>will retry 4X with 0.5s sleep between retries.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>if the 4th retry still fails, raise error &amp; report failure.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>retry</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>max</span><span class=p>:</span><span class=w> </span><span class=m>4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>sleep</span><span class=p>:</span><span class=w> </span><span class=m>0.5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>curl https://arb-unreliable-url-example/</span></span></span></code></pre></div></div><h2 id=failure-handlers>failure handlers <a href=#failure-handlers class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>A failure handler is an optional step-group that pypyr jumps to when an error
happens. In traditional programming terms, it&rsquo;s pretty much a <code>catch</code> block.
Once the failure handler completes, the pipeline exits reporting failure.</p><p>pypyr looks for a failure handler if <code>swallow</code> on the failing step is <code>False</code>
and only after any <code>retry</code> on the step exhausts.</p><p>Any given step-group can be a failure handler. If you don&rsquo;t explicitly
specify a failure handler pypyr will look for a step group named <code>on_failure</code>.
If <code>on_failure</code> doesn&rsquo;t exist it doesn&rsquo;t matter, pypyr will still quit the
pipeline reporting the original error.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./failure-handler-example.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>A</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=l>raise ValueError(&#39;arb&#39;)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>this step will never run,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>because the previous step</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>always fails.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>unreachable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on_failure</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>B</span></span></span></code></pre></div></div><p>Running this pipeline will result in:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pypyr failure-handler-example
</span></span><span class=line><span class=cl>A
</span></span><span class=line><span class=cl>Error while running step pypyr.steps.py at pipeline yaml line: 6, col: 5
</span></span><span class=line><span class=cl>Something went wrong. Will now try to run on_failure.
</span></span><span class=line><span class=cl>B
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ValueError: arb
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ echo $?
</span></span><span class=line><span class=cl>255</span></span></code></pre></div></div><p>If a failure handler encounters another exception while processing an
exception, then pypyr will log and report both that exception and the original
cause&rsquo;s exception, although the original cause exception is what pypyr
highlights on CLI exit and raises to API consumers.</p><h3 id=set-your-own-failure-handler>set your own failure handler <a href=#set-your-own-failure-handler class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>You can set any given step-group to be a failure handler.</p><p>Similarly to if <code>on_failure</code> does not exist, pypyr will not raise an additional
error if the specified custom failure-handler doesn&rsquo;t exist. The log output
will tell you that it did look for it but couldn&rsquo;t find it.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./my-pipeline.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>A</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=l>raise ValueError(&#39;arb&#39;)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>unreachable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>arb_group</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>B</span></span></span></code></pre></div></div><h4 id=from-the-cli>from the cli <a href=#from-the-cli class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h4><p>When you invoke pypyr from the cli and you don&rsquo;t want to use the default
<code>on_failure</code> failure handler you can use the <code>--failure</code> input argument:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-fish data-lang=fish><span class=line><span class=cl><span class=nv>$ </span>pypyr my-pipeline <span class=na>--failure</span> arb_group </span></span></code></pre></div></div><h4 id=when-calling-a-pipeline>when calling a pipeline <a href=#when-calling-a-pipeline class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h4><p>When you call a pipeline from within another pipeline using<br><a href=https://pypyr.io/docs/steps/pype/>pype</a> you can override the default <code>on_failure</code>
by setting your own:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.pype</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pype</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>my-pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>failure</span><span class=p>:</span><span class=w> </span><span class=l>arb_group</span></span></span></code></pre></div></div><h4 id=within-a-pipeline>within a pipeline <a href=#within-a-pipeline class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h4><p>You can specify your own failure-handler when you
<a href=https://pypyr.io/docs/steps/call/>call</a>, <a href=https://pypyr.io/docs/steps/jump/>jump</a> or
<a href=https://pypyr.io/docs/steps/switch/>switch</a> to another step-group in your
pipeline.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./call-with-failure-group.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>A</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.call</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>call</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>groups</span><span class=p>:</span><span class=w> </span><span class=l>call_me</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>failure</span><span class=p>:</span><span class=w> </span><span class=l>arb_group</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>unreachable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>call_me</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>B</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.assert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>assert</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>unreachable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>arb_group</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>C</span></span></span></code></pre></div></div><p>Notice that when you run this pipeline, when the <code>arb_group</code> failure handler
completes reporting failure, pypyr still falls back to processing the actual
pipeline&rsquo;s handler, if it exists. In this case, because we don&rsquo;t invoke the
pipeline with a custom failure handler set, it defaults to looking for
<code>on_failure</code>.</p><p>This is the same concept as an error bubbling up to the top of the stack.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pypyr call-with-failure-group
</span></span><span class=line><span class=cl>A
</span></span><span class=line><span class=cl>B
</span></span><span class=line><span class=cl>Error while running step pypyr.steps.assert at pipeline yaml line: 19, col: 5
</span></span><span class=line><span class=cl>Something went wrong. Will now try to run arb_group.
</span></span><span class=line><span class=cl>C
</span></span><span class=line><span class=cl>Error while running step pypyr.steps.call at pipeline yaml line: 6, col: 5
</span></span><span class=line><span class=cl>Something went wrong. Will now try to run on_failure.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>AssertionError: assert False evaluated to False.
</span></span><span class=line><span class=cl>$</span></span></code></pre></div></div><h3 id=call-or-jump-in-failure-handler>call or jump in failure handler <a href=#call-or-jump-in-failure-handler class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>You can <a href=https://pypyr.io/docs/steps/call/>call</a> or
<a href=https://pypyr.io/docs/steps/jump/>jump</a> with a failure handler. This is handy if
you have shared or common code you want to run on different error and success
conditions, because you can encapsulate your failure handling code in its own
step-group. A very typical scenario for this is if you want to send a
notification on both success and failure.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./call-on-failure.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.assert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>assert</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>unreachable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>sg1</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>B</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.call</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>call</span><span class=p>:</span><span class=w> </span><span class=l>sg2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>D</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>sg2</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>C</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on_failure</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>A</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.call</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>call</span><span class=p>:</span><span class=w> </span><span class=l>sg1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>E</span></span></span></code></pre></div></div><p>Running this pipeline results in:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pypyr call-on-failure
</span></span><span class=line><span class=cl>Error while running step pypyr.steps.assert at pipeline yaml line: 3, col: 5
</span></span><span class=line><span class=cl>Something went wrong. Will now try to run on_failure.
</span></span><span class=line><span class=cl>A
</span></span><span class=line><span class=cl>B
</span></span><span class=line><span class=cl>C
</span></span><span class=line><span class=cl>D
</span></span><span class=line><span class=cl>E
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>AssertionError: assert False evaluated to False.</span></span></code></pre></div></div><p>Notice that the called group can also call another group.</p><div class="admonition tip" role=figure><div class=admonition-tip-icon></div><div class=admonition-content>If you <code>jump</code> from a failure handler, you&rsquo;re still within the execution context
of the failure handler. This means that once the group you jump to completes,
pypyr will still quit reporting failure, unless you use one of the Stop
instructions somewhere in the execution chain.</div></div><h2 id=dont-quit-pipeline-reporting-failure>don&rsquo;t quit pipeline reporting failure <a href=#dont-quit-pipeline-reporting-failure class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>Once a pipeline&rsquo;s failure handler completes, by default pypyr quits the
pipeline reporting failure. If you want to handle the error and quit the
pipeline reporting success, you can use a Stop instruction to prevent the
failure handler from completing and raising the error.</p><p>Depending on whether you want to stop pypyr entirely, or only the pipeline, or
only the currently called or jumped to group, you can use any of
<a href=https://pypyr.io/docs/steps/stop/>stop</a>,
<a href=https://pypyr.io/docs/steps/stoppipeline/>stoppipeline</a> or
<a href=https://pypyr.io/docs/steps/stopstepgroup/>stopstepgroup</a>.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./stop-on-failure.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.assert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>assert</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>unreachable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on_failure</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>A</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>pypyr.steps.stop</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>unreachable</span></span></span></code></pre></div></div><p>When you run this pipeline pypyr will quit reporting success because the
failure handler considers the error condition as handled when you issue the
stop instruction:</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pypyr stop-on-failure
</span></span><span class=line><span class=cl>Error while running step pypyr.steps.assert at pipeline yaml line: 3, col: 5
</span></span><span class=line><span class=cl>Something went wrong. Will now try to run on_failure.
</span></span><span class=line><span class=cl>A
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ echo $?
</span></span><span class=line><span class=cl>0</span></span></code></pre></div></div><p>If you use <code>call</code> or <code>jump</code> inside your failure handler, you can issue the
appropriate Stop instruction in the groups that you invoke.</p><h2 id=use-runtime-error-details-inside-pipeline>use runtime error details inside pipeline <a href=#use-runtime-error-details-inside-pipeline class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>pypyr saves all run-time errors to a list in context called <code>runErrors</code>.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>runErrors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Error Name Here</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Error Description Here</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>customError</span><span class=p>:</span><span class=w> </span><span class=c># whatever you put into onError on step definition</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>line</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w> </span><span class=c># line in pipeline yaml for failing step</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>col</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w> </span><span class=c># column in pipeline yaml for failing step</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>step</span><span class=p>:</span><span class=w> </span><span class=l>my.bad.step.name</span><span class=w> </span><span class=c># failing step name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>exception</span><span class=p>:</span><span class=w> </span><span class=l>ValueError(&#39;arb&#39;)</span><span class=w> </span><span class=c># the actual python error object</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>swallowed</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w> </span><span class=c># True if err was swallowed</span></span></span></code></pre></div></div><p>The last error will be the last item in the list. The first error will be the
first item in the list.</p><h3 id=using-error-information-in-subsequent-steps>using error information in subsequent steps <a href=#using-error-information-in-subsequent-steps class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>You can use <code>runErrors</code> in your step-group&rsquo;s
<a href=#failure-handlers>failure handler</a>,
or if you set <code>swallow=True</code> on the failing step you can use <code>runErrors</code> in
subsequent steps to use the actual error information.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./use-error-info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>A</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.assert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>swallow</span><span class=p>:</span><span class=w> </span><span class=kc>True</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>assert</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>there was a problem on line {runErrors[0][line]}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=l>raise ValueError(&#39;arb&#39;)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>unreachable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on_failure</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>B</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.assert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>assert</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>this</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{runErrors[0][name]}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>equals</span><span class=p>:</span><span class=w> </span><span class=l>AssertionError</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.assert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>assert</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>this</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{runErrors[1][name]}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>equals</span><span class=p>:</span><span class=w> </span><span class=l>ValueError</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.assert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>assert</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>this</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{runErrors[1][description]}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>equals</span><span class=p>:</span><span class=w> </span><span class=l>arb</span></span></span></code></pre></div></div><p>Notice this pipeline uses <code>runErrors</code> information both in the <code>steps</code> group
after the <code>swallow</code>, and also in the <code>on_failure</code> handler. The asserts in the
failure handler effectively tests if the errors are as expected.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pypyr use-error-info
</span></span><span class=line><span class=cl>A
</span></span><span class=line><span class=cl>pypyr.steps.assert Ignoring error because swallow is True for this step.
</span></span><span class=line><span class=cl>AssertionError: assert False evaluated to False.
</span></span><span class=line><span class=cl>there was a problem on line 6
</span></span><span class=line><span class=cl>Error while running step pypyr.steps.py at pipeline yaml line: 14, col: 5
</span></span><span class=line><span class=cl>Something went wrong. Will now try to run on_failure.
</span></span><span class=line><span class=cl>B
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ValueError: arb</span></span></code></pre></div></div><h2 id=add-extra-error-information>add extra error information <a href=#add-extra-error-information class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>You can provide your own additional description or even your own object to add
to the error by using the
<a href=https://pypyr.io/docs/decorators/onerror/>onError decorator</a>.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.assert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>deliberately raise error</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>           </span><span class=l>with custom error object</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>assert</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>onError</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>myerr_code</span><span class=p>:</span><span class=w> </span><span class=m>123</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>myerr_description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;my err description&#34;</span></span></span></code></pre></div></div><p>This information is available in the <code>runErrors</code> list in context.</p><h2 id=raise-a-custom-error>raise a custom error <a href=#raise-a-custom-error class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>You can raise your own errors in pypyr. At easiest, use the built-in assert,
but you can also raise any Python built-in error.</p><h3 id=assertion-error>assertion error <a href=#assertion-error class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>You can use <a href=https://pypyr.io/docs/steps/assert/>assert</a> to raise an error if the
assertion condition fails.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.assert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>assert</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>this step won&#39;t ever run because pipeline always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>fails on previous step.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>unreachable</span></span></span></code></pre></div></div><div class="admonition tip" role=figure><div class=admonition-tip-icon></div><div class=admonition-content>Remember you can use formatting <a href=https://pypyr.io/docs/substitutions/>substitutions</a>
for the <code>assert</code> condition selectively to raise the <code>AssertionError</code> or not.</div></div><h3 id=custom-error>custom error <a href=#custom-error class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>You can raise any
<a href=https://docs.python.org/3/library/exceptions.html>built-in Python exception</a>
from an <a href=https://pypyr.io/docs/steps/py/>inline python step</a>.</p><p>You can also raise pypyr&rsquo;s built-in errors or your own custom error objects if
you import the appropriate module as part of the py step, per usual Python
module import referencing.</p><div class=highlight-container><button type=button class=clipboard-button><svg viewBox="0 0 64 64" class="copy-icon"><use xlink:href="https://pypyr.io/icons/copy-icon.fc663e18db7b6a14d36a19370a76511207ffba9535d99ae0dc20df5879dbd2ba.svg#copy-icon"/></svg><svg viewBox="0 0 64 64" class="checkmark-icon"><use xlink:href="https://pypyr.io/icons/checkmark-icon.479fb2cc7eb72eb756a58711a31e7ea4469b65dbf9c16700e827d9f20531d5c5.svg#checkmark-icon"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>begin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>py</span><span class=p>:</span><span class=w> </span><span class=l>raise ValueError(&#39;arb error text here&#39;)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>this step won&#39;t ever run </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>because pipeline always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>fails on previous step.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>unreachable</span></span></span></code></pre></div></div></article><section class="see-also elevation-02"><h2>see also</h2><ul><li><a href=/docs/decorators/retry/>retry decorator</a></li><li><a href=/docs/decorators/swallow/>swallow decorator</a></li><li><a href=/docs/decorators/onerror/>onError decorator</a></li></ul></section></main><aside class="grid-taxonomy elevation-02"><section class=page-taxonomy aria-label="related topics"><h6>topics</h6><ul id=topics class=small-list><li><a href=https://pypyr.io/topics/error-handling/ class=muted-with-hover>error handling</a></li></ul></section></aside><aside class="grid-improve elevation-02" aria-labelledby=feedback><h6 id=feedback>feedback</h6><ul class=small-list><li><a href=https://github.com/pypyr/docs/edit/main/content/docs/getting-started/error-handling.md class=muted-with-hover>edit me</a></li><li><a href="https://github.com/pypyr/docs/issues/new?title=docs%20issue:error%20handling&amp;body=File:%20[error%20handling]%28https://pypyr.io/docs/getting-started/error-handling/%29" class=muted-with-hover>report typo</a></li><li><a href="https://github.com/pypyr/pypyr/issues/new?title=Re:%20error%20handling&amp;labels=bug" class=muted-with-hover>report bug!</a></li></ul></aside><div class="page-git-info elevation-02"><small class=small-block>last updated on <time datetime=2022-10-19T15:53:16+01:00>2022-10-19 15:53</time>.</small></div></div><footer class="footer elevation-01"><a href=/ class=top-nav-logo aria-label=home><img class=top-nav-logo-img src=https://pypyr.io/images/pypyr-logotype.2c9aa98c472f0ea8d436597c26ef1b0f042624ee19cdf69bcb89ac0025d146c4.svg alt="pypyr logo"></a><div class=col-1fr-centered><ul class=footer-social-links aria-label="social media links"><li><a href=https://twitter.com/pypyrpipes/ class=footer-social-link><div class=footer-social-links-pre><svg viewBox="0 0 400 400"><title>twitter link</title><use xlink:href="https://pypyr.io/icons/twitter-social-icon-circle-white.d715a98bf8d7170b3d2603d836ca675616731d85583c13d23ec468905e77c59a.svg#twitter-icon"/></svg></div><small>twitter</small></a></li><li><a href=https://github.com/pypyr/pypyr/ class=footer-social-link><div class=footer-social-links-pre><svg viewBox="0 0 32.58 31.77"><title>github link</title><use xlink:href="https://pypyr.io/icons/github-icon.778bc8065fb7e8d1e7109b270cfbd86e15e05bb16ebff30d261935e4bc1560bd.svg#github-icon"/></svg></div><small>github</small></a></li><li><a href=https://github.com/pypyr/pypyr/discussions class=footer-social-link><div class=footer-social-links-pre><svg viewBox="0 0 16 16"><title>discussion forum link</title><use xlink:href="https://pypyr.io/icons/discussions.a9f14951d81276183aaea73b6d616db95326f8f16350b221d9d6d48ee5a0b16e.svg#discussions-icon"/></svg></div><small>forum</small></a></li></ul><ul class=footer-notices-links aria-label="legal notices"><li><a href=/legal/privacy-notice class=muted-with-hover><small>privacy</small></a></li><li><a href=/legal/licensing class=muted-with-hover><small>licensing</small></a></li><li><a href=/press-kit class=muted-with-hover><small>press</small></a></li></ul></div></footer><div class=bottom-spacer aria-hidden=true></div><div id=disabled-state-overlay aria-hidden=true class="disabled-state-overlay hide-overlay"></div></body></html>