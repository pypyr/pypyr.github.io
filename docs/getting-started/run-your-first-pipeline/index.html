<!doctype html><html lang=en dir=ltr prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>run your first pipeline | pypyr</title><meta name=description content="An introduction to how to write & run your first pipeline with the pypyr task-runner to automate your own tasks."><link rel=stylesheet href=https://pypyr.io/css/styles.min.5173637d874e012d84bb859e8f72791eb48cf798feeff3480b1db6bfa97be924.css integrity="sha256-UXNjfYdOAS2Eu4Wej3J5HrSM95j+7/NICx22v6l76SQ="><link rel=stylesheet href=https://pypyr.io/css/code-highlight.min.78f63f1d4f45beaf423efd3dc8e6914c2abdca1b5391cd91368a32efecd9d7e3.css integrity="sha256-ePY/HU9Fvq9CPv09yOaRTCq9yhtTkc2RNooy7+zZ1+M="><script defer src=https://pypyr.io/js/script.min.8c51c28efa613c3bc853b2418e260b33482af182f6ca8ebeeb825b5b8e094423.js integrity="sha256-jFHCjvphPDvIU7JBjiYLM0gq8YL2yo6+64JbW44JRCM="></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700%7cRoboto+Mono:400,400i&display=swap" rel=stylesheet><link rel=canonical href=https://pypyr.io/docs/getting-started/run-your-first-pipeline/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-147150909-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-147150909-1")</script><meta property="og:description" content="An introduction to how to write & run your first pipeline with the pypyr task-runner to automate your own tasks."><meta property="og:image" content="https://pypyr.io/images/1.91x1/pypyr-taskrunner-yaml-pipeline-automation-1200x628.5aa6465b3b9d2ca8d0d5a9f794ba7f379c522a8ba503129f2a35d2479ea2452d.png"><meta property="og:image:alt" content="pypyr is an open-source task-runner for automation pipelines defined in simple human-readable yaml."><meta property="og:image:height" content="628"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:site_name" content="pypyr technical documentation"><meta property="og:title" content="Tutorial showing you how to run your first task-runner pipeline."><meta property="og:type" content="website"><meta property="og:url" content="https://pypyr.io/docs/getting-started/run-your-first-pipeline/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@pypyrpipes"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@id":"https://pypyr.io/#organization","@type":"Organization","name":"pypyr","url":"https://pypyr.io/","description":"The pypyr project is a free open-source task-runner cli \u0026 python api for automation pipelines.","logo":{"@type":"ImageObject","url":"https://pypyr.io/images/pypyr-taskrunner-logo-square.63875e43ff40d8ae40e93a6043b4328b962f54f52974aaa27cedec52220de665.svg","height":112,"width":112},"sameAs":["https://github.com/pypyr/","https://twitter.com/pypyrpipes/","https://pypi.org/user/pypyr/","https://hub.docker.com/u/pypyr/","https://en.gravatar.com/pypyr/"]},{"@type":"TechArticle","author":{"@type":"Person","name":"pypyr contributor","url":"https://pypyr.io/"},"articleSection":"getting started","dateModified":"2022-02-26T11:44:59Z","datePublished":"2020-08-13T00:00:00Z","headline":"Tutorial showing you how to run your first task-runner pipeline.","image":[{"@type":"ImageObject","url":"https://pypyr.io/images/1x1/pypyr-taskrunner-yaml-pipeline-automation-1200x1200.52764d3c6f40232b3cdc33f5b8fbaeadad56cc310c8dd5588d30828296b5290d.png","height":1200,"width":1200},{"@type":"ImageObject","url":"https://pypyr.io/images/4x3/pypyr-taskrunner-yaml-pipeline-automation-1200x900.e8e70443377aeb11c190835e8d2ed0c844d31a82a0c2e8a744a9999cd03e0de9.png","height":900,"width":1200},{"@type":"ImageObject","url":"https://pypyr.io/images/16x9/pypyr-taskrunner-yaml-pipeline-automation-1920x1080.cc9ae11626c8312e087058adb13bfff702162ce39c355065170c1b87850f3034.png","height":1080,"width":1920}],"inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https://pypyr.io/docs/getting-started/run-your-first-pipeline/"},"publisher":{"@id":"https://pypyr.io/#organization"},"thumbnailUrl":"https://pypyr.io/images/pypyr-taskrunner-logo-square.63875e43ff40d8ae40e93a6043b4328b962f54f52974aaa27cedec52220de665.svg","url":"https://pypyr.io/docs/getting-started/run-your-first-pipeline/","wordCount":1597}]}</script><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.925deabb48d91a80924b5d04ff56d2b8f42ba1d1e1438cb7d8948cce1138208c.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.b869433d27c4679a5fbce03a8489268a539cbc781259bff14618ae2f018334e6.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.8bcd9f870e0a86445e0505ce6e816b76a40b08a06e2dcd1ec1f90c395ecbeaf6.png><link rel=manifest href=/favicons/site.3dad2bd5063ad6bc11f741ea28adf4df8b9370196f6e64af6789cf181cef05c6.webmanifest><link rel="shortcut icon" href=/favicons/favicon.4a2a3dffd965a7c571df0375e35f59307bc72adc08e3ef7021d5d5f02e6ef5a8.ico><meta name=msapplication-TileColor content="#00aba9"><meta name=msapplication-config content="/favicons/browserconfig.bbdaec7f39b7bd1f2d6bc484afdd0c7246e3af9c5b45d91198d8a3b42e024e1f.xml"><meta name=theme-color content="#121212"></head><body class=docs-grid><header class="header elevation-01"><a href=/ class=top-nav-logo aria-label=home><img class=top-nav-logo-img src=https://pypyr.io/images/pypyr-logotype.2c9aa98c472f0ea8d436597c26ef1b0f042624ee19cdf69bcb89ac0025d146c4.svg alt="pypyr logo"></a><nav class=top-nav-links aria-label="top navigation"><ul><li><a href=/docs/ class=top-active>docs</a></li><li><a href=/updates/>updates</a></li><li><a href=/topics/>topics</a></li><li><a href=https://twitter.com/pypyrpipes/><span class=top-nav-links-pre><svg viewBox="0 0 250 203.18"><title>twitter link</title><use xlink:href="https://pypyr.io/images/twitter-logo.4bee83a61c7b1a567b9a00ea1ac9388de3b16ffbffac9e228f998a5411894c59.svg#twitter-logo"/></svg></span></a></li><li><a href=https://github.com/pypyr/pypyr/><span class=top-nav-links-pre><svg viewBox="0 0 477 97.41"><title>github repo</title><use xlink:href="https://pypyr.io/images/github-mark-and-logo.5df312655c6a99a4953b544d02b13a948fa4d66bda21e772206f0ed96663f05b.svg#github-mark-and-logo"/></svg></span></a></li></ul></nav></header><button id=show-leftnav class="neutral-button icon-button primary-button"><svg class="show-leftnav-chevron"><title>open main navigation menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg></button><nav id=leftnavmenu class="leftnavmenu elevation-03" aria-label="Primary Navigation"><button id=hide-leftnav class="neutral-button icon-button"><svg class="hide-leftnav-chevron"><title>close navigation menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg></button><ul class=leftnavroot><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron nav-chevron-down"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>getting started</span></span></button><ul class="nested expand"><li><a href=/docs/getting-started/>overview</a></li><li><a href=/docs/getting-started/installation/>install pypyr</a></li><li class=currentpage><a href=/docs/getting-started/run-your-first-pipeline/>run your first pipeline</a></li><li><a href=/docs/getting-started/basic-concepts/>basic concepts</a></li><li><a href=/docs/getting-started/variables/>variables</a></li><li><a href=/docs/getting-started/conditional-logic/>conditional logic</a></li><li><a href=/docs/getting-started/loops/>loops</a></li><li><a href=/docs/getting-started/error-handling/>error handling</a></li><li><a href=/docs/getting-started/config/>config</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>cli</span></span></button><ul class=nested><li><a href=/docs/cli/>overview</a></li><li><a href=/docs/cli/run-a-pipeline/>run a pipeline</a></li><li><a href=/docs/cli/custom-args/>custom args</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>pipelines</span></span></button><ul class=nested><li><a href=/docs/pipelines/>overview</a></li><li><a href=/docs/pipelines/pipeline-structure/>pipeline structure</a></li><li><a href=/docs/pipelines/lookup-order/>lookup order</a></li><li><a href=/docs/pipelines/shortcuts/>shortcuts</a></li><li><a href=/docs/pipelines/builtin-pipelines/>built-in pipelines</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>context parsers</span></span></button><ul class=nested><li><a href=/docs/context-parsers/>overview</a></li><li><a href=/docs/context-parsers/dict/>dict</a></li><li><a href=/docs/context-parsers/json/>json</a></li><li><a href=/docs/context-parsers/jsonfile/>jsonfile</a></li><li><a href=/docs/context-parsers/keys/>keys</a></li><li><a href=/docs/context-parsers/keyvaluepairs/>keyvaluepairs</a></li><li><a href=/docs/context-parsers/list/>list</a></li><li><a href=/docs/context-parsers/string/>string</a></li><li><a href=/docs/context-parsers/tomlfile/>tomlfile</a></li><li><a href=/docs/context-parsers/yamlfile/>yamlfile</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>decorators</span></span></button><ul class=nested><li><a href=/docs/decorators/>overview</a></li><li><a href=/docs/decorators/comment/>comment</a></li><li><a href=/docs/decorators/description/>description</a></li><li><a href=/docs/decorators/foreach/>foreach</a></li><li><a href=/docs/decorators/in/>in</a></li><li><a href=/docs/decorators/onerror/>onError</a></li><li><a href=/docs/decorators/retry/>retry</a></li><li><a href=/docs/decorators/run/>run</a></li><li><a href=/docs/decorators/skip/>skip</a></li><li><a href=/docs/decorators/swallow/>swallow</a></li><li><a href=/docs/decorators/while/>while</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>steps</span></span></button><ul class=nested><li><a href=/docs/steps/>overview</a></li><li><a href=/docs/steps/add/>add</a></li><li><a href=/docs/steps/append/>append</a></li><li><a href=/docs/steps/assert/>assert</a></li><li><a href=/docs/steps/call/>call</a></li><li><a href=/docs/steps/cmd/>cmd</a></li><li><a href=/docs/steps/cmds/>cmds</a></li><li><a href=/docs/steps/configvars/>configvars</a></li><li><a href=/docs/steps/contextclear/>contextclear</a></li><li><a href=/docs/steps/contextclearall/>contextclearall</a></li><li><a href=/docs/steps/contextcopy/>contextcopy</a></li><li><a href=/docs/steps/contextmerge/>contextmerge</a></li><li><a href=/docs/steps/contextsetf/>contextsetf</a></li><li><a href=/docs/steps/debug/>debug</a></li><li><a href=/docs/steps/default/>default</a></li><li><a href=/docs/steps/echo/>echo</a></li><li><a href=/docs/steps/env/>env</a></li><li><a href=/docs/steps/envget/>envget</a></li><li><a href=/docs/steps/fetchjson/>fetchjson</a></li><li><a href=/docs/steps/fetchtoml/>fetchtoml</a></li><li><a href=/docs/steps/fetchyaml/>fetchyaml</a></li><li><a href=/docs/steps/fileformat/>fileformat</a></li><li><a href=/docs/steps/fileformatjson/>fileformatjson</a></li><li><a href=/docs/steps/fileformattoml/>fileformattoml</a></li><li><a href=/docs/steps/fileformatyaml/>fileformatyaml</a></li><li><a href=/docs/steps/fileread/>fileread</a></li><li><a href=/docs/steps/filereplace/>filereplace</a></li><li><a href=/docs/steps/filewrite/>filewrite</a></li><li><a href=/docs/steps/filewritejson/>filewritejson</a></li><li><a href=/docs/steps/filewritetoml/>filewritetoml</a></li><li><a href=/docs/steps/filewriteyaml/>filewriteyaml</a></li><li><a href=/docs/steps/glob/>glob</a></li><li><a href=/docs/steps/jsonparse/>jsonparse</a></li><li><a href=/docs/steps/jump/>jump</a></li><li><a href=/docs/steps/now/>now</a></li><li><a href=/docs/steps/nowutc/>nowutc</a></li><li><a href=/docs/steps/pathcheck/>pathcheck</a></li><li><a href=/docs/steps/py/>py</a></li><li><a href=/docs/steps/pyimport/>pyimport</a></li><li><a href=/docs/steps/pype/>pype</a></li><li><a href=/docs/steps/pypyrversion/>pypyrversion</a></li><li><a href=/docs/steps/python/>python</a></li><li><a href=/docs/steps/safeshell/>safeshell</a></li><li><a href=/docs/steps/set/>set</a></li><li><a href=/docs/steps/shell/>shell</a></li><li><a href=/docs/steps/shells/>shells</a></li><li><a href=/docs/steps/stop/>stop</a></li><li><a href=/docs/steps/stoppipeline/>stoppipeline</a></li><li><a href=/docs/steps/stopstepgroup/>stopstepgroup</a></li><li><a href=/docs/steps/tar/>tar</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>substitutions</span></span></button><ul class=nested><li><a href=/docs/substitutions/>overview</a></li><li><a href=/docs/substitutions/format-string/>format string</a></li><li><a href=/docs/substitutions/jsonify/>jsonify</a></li><li><a href=/docs/substitutions/py-strings/>py string</a></li><li><a href=/docs/substitutions/sic-strings/>sic string</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>plugins</span></span></button><ul class=nested><li><a href=/docs/plugins/>overview</a></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>aws</span></span></button><ul class=nested><li><a href=/docs/plugins/aws/>overview</a></li><li><a href=/docs/plugins/aws/authentication/>authentication</a></li><li><a href=/docs/plugins/aws/substitutions/>substitutions</a></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>steps</span></span></button><ul class=nested><li><a href=/docs/plugins/aws/steps/>overview</a></li><li><a href=/docs/plugins/aws/steps/client/>client</a></li><li><a href=/docs/plugins/aws/steps/ecswaitprep/>ecswaitprep</a></li><li><a href=/docs/plugins/aws/steps/s3fetchjson/>s3fetchjson</a></li><li><a href=/docs/plugins/aws/steps/s3fetchyaml/>s3fetchyaml</a></li><li><a href=/docs/plugins/aws/steps/wait/>wait</a></li><li><a href=/docs/plugins/aws/steps/waitfor/>waitfor</a></li></ul></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>slack</span></span></button><ul class=nested><li><a href=/docs/plugins/slack/>overview</a></li><li><a href=/docs/plugins/slack/authentication/>authentication</a></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>steps</span></span></button><ul class=nested><li><a href=/docs/plugins/slack/steps/>overview</a></li><li><a href=/docs/plugins/slack/steps/send/>send</a></li></ul></li></ul></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>api</span></span></button><ul class=nested><li><a href=/docs/api/>overview</a></li><li><a href=/docs/api/custom-module-search-path/>custom module search path</a></li><li><a href=/docs/api/context-parser/>context parser</a></li><li><a href=/docs/api/pipeline-loader/>pipeline loader</a></li><li><a href=/docs/api/retry-backoff/>retry backoff</a></li><li><a href=/docs/api/run-pipeline/>run pipeline</a></li><li><a href=/docs/api/step/>step</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>contributing</span></span></button><ul class=nested><li><a href=/docs/contributing/>overview</a></li><li><a href=/docs/contributing/contribute-to-pypyr/>contribute to pypyr</a></li><li><a href=/docs/contributing/developers-guide/>developer's guide for pypyr</a></li></ul></li><li><button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer><svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>thank you</span></span></button><ul class=nested><li><a href=/docs/thank-you/>overview</a></li><li><a href=/docs/thank-you/built-with-hugo/>built with hugo</a></li><li><a href=/docs/thank-you/dependencies/>dependencies</a></li></ul></li></ul></nav><div class="docs-content content-grid"><ol class=breadcrumb vocab="http://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" href=https://pypyr.io/><span property="name">pypyr</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" href=https://pypyr.io/docs/><span property="name">docs</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" href=https://pypyr.io/docs/getting-started/><span property="name">getting started</span></a><meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem"><span property="name">run your first pipeline</span><meta property="position" content="4"></li></ol><aside class="grid-toc elevation-02"><h6 id=table-of-contents>on this page</h6><nav id=TableOfContents><ol><li><a href=#run-a-built-in-pipeline>run a built-in pipeline</a></li><li><a href=#write-your-first-pipeline>write your first pipeline</a><ol><li><a href=#cross-platform-compatibility>cross-platform compatibility</a></li></ol></li><li><a href=#passing-arguments-to-your-pipeline>passing arguments to your pipeline</a></li><li><a href=#branching-loops-retries>branching, loops, retries</a><ol><li><a href=#conditional-execution>conditional execution</a></li><li><a href=#automatic-retry>automatic retry</a></li><li><a href=#static-loop>static loop</a></li><li><a href=#dynamic-loop-cli-input-args>dynamic loop cli input args</a></li></ol></li><li><a href=#what-next>what next?</a></li></ol></nav></aside><main class=grid-main><article><h1 id=run-your-first-pipeline>run your first pipeline <a href=#run-your-first-pipeline class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h1><h2 id=run-a-built-in-pipeline>run a built-in pipeline <a href=#run-a-built-in-pipeline class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>Run one of the built-in pipelines to get a feel for it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ pypyr <span class=nb>echo</span> <span class=s2>&#34;Ceci n&#39;est pas une pipe&#34;</span>
</span></span></code></pre></div><p><code>echo</code> is the name of a built-in pypyr pipeline. The pipeline simply echoes
the input string back to console output using the built-in
<a href=https://pypyr.io/docs/steps/echo/>echo step</a>.</p><p>The actual pipeline looks like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># To execute this pipeline, shell something like:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># pypyr echo text goes here</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>context_parser</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.parser.string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{argString}&#39;</span><span class=w>
</span></span></span></code></pre></div><p>This a silly pipeline with only one step. It doesn&rsquo;t do much other than show
you a basic example as an introduction of what a basic pipeline looks like.</p><p>The <a href=https://pypyr.io/docs/context-parsers/string/>pypyr.parser.string</a>
context_parser tells pypyr to concatenate all the input args you specify from
the CLI and make the result available to the pipeline as a variable named
<code>argString</code>. <code>pypyr.steps.echo</code> then uses a <a href=https://pypyr.io/docs/substitutions/format-string/>substitution expression</a> to get the value of <code>argString</code> and
print it out to the console.</p><p>You can achieve the same end-result by hard-coding the string you want to echo
into the pipeline yaml rather than passing it in from the cli as a positional
argument:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ pypyr magritte
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./magritte.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># To execute this pipeline, shell something like:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># pypyr magritte</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>output echoMe</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>Ceci n&#39;est pas une pipe</span><span class=w>
</span></span></span></code></pre></div><h2 id=write-your-first-pipeline>write your first pipeline <a href=#write-your-first-pipeline class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>A pipeline is simply a yaml file.</p><p>The simplest pipeline just needs a <code>steps</code> list. This is the default entry
point. <code>steps</code> is a list that has a bunch of individual steps in it that will
run sequentially one after the other.</p><p>The following examples will only have one or two steps in them, for the sake of
an easy introduction, but you can mix and match as many steps as you need in
your pipelines.</p><div class=tabs><input type=radio id=first-pipe-radio-posix name=first-pipe-selector class=tab-radio tabindex=0 checked>
<label for=first-pipe-radio-posix class=tab-label>posix</label><div class=tab><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./my-first-pipeline.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># To execute this pipeline, shell something like:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># pypyr my-first-pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>output echoMe</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>this is step 1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>actually invokes any program on your system.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>the program must be available in current path.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>run any program you fancy.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>we&#39;re just running /bin/echo here for an easy demo.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo this is step 2</span><span class=w>
</span></span></span></code></pre></div></div><input type=radio id=first-pipe-radio-windows name=first-pipe-selector class=tab-radio tabindex=0>
<label for=first-pipe-radio-windows class=tab-label>windows</label><div class=tab><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./my-first-pipeline.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># To execute this pipeline, shell something like:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># pypyr my-first-pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>output echoMe</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>this is step 1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>Actually invokes any executable program on your system.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>The program must be available in current path.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>Run any program you fancy.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>Here we&#39;re running the powershell executable.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>We&#39;re just using powershell&#39;s echo for an easy demo,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>but you can invoke any powershell command you like instead.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>powershell.exe -NoProfile -Command &#34;echo &#39;this is step 2&#39;&#34;</span><span class=w>
</span></span></span></code></pre></div></div></div><p>Save this file as <code>./my-first-pipeline.yaml</code>.</p><p>Now you can run your pipeline like this:</p><div class=app-window><div class=app-window-top-bar><span class=app-window-buttons><span class="circle red"></span><span class="circle yellow"></span><span class="circle green"></span></span>
<span class=app-window-title>term</span></div><div class=app-window-content><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pypyr my-first-pipeline
</span></span><span class=line><span class=cl>this is step 1
</span></span><span class=line><span class=cl>this is step 2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$</span></span></code></pre></div></div></div><p>The second step here is the <a href=https://pypyr.io/docs/steps/cmd/>cmd step</a> - this
built-in step allows you to run any executable available on your system. For the
sake of hello-world simplicity, we&rsquo;re just running good old <code>echo</code>, but you
can substitute this with any executable program available in your <code>$PATH</code>.</p><p>If you don&rsquo;t want to rely on <code>$PATH</code> to resolve your program location, you can
specify the full absolute path instead. You can also specify a relative path to
the current working directory.</p><p>We&rsquo;re starting with <code>pypyr.steps.cmd</code> because you&rsquo;re likely to use it a lot. But
pypyr also has a whole bunch of other ready-made <a href=https://pypyr.io/docs/steps/>built-in steps</a> that you can use for various tasks such as working with files, variables,
merging configuring, paths & custom inline code. You can also make your own
<a href=https://pypyr.io/docs/api/step/>custom step</a> without fuss.</p><h3 id=cross-platform-compatibility>cross-platform compatibility <a href=#cross-platform-compatibility class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>Linux & MacOS can run the <code>posix</code> sample yaml as is.</p><p>On Windows, if you&rsquo;re running pypyr via
<a href=https://docs.microsoft.com/en-us/windows/wsl/>WSL</a> you can also use the
<code>posix</code> samples as is, but if you&rsquo;re running pypyr natively on Windows use the
<code>windows</code> sample yaml instead. The reason for this is that posix-compliant
systems have <code>/bin/echo</code> available as a discrete program, whereas on Windows
<code>echo</code> is baked into the shell instead.</p><p>Just for the purposes of an introductory demonstration of running an .exe on
Windows via <code>pypyr.steps.cmd</code>, we&rsquo;re invoking <code>powershell.exe</code> and running the
<code>echo</code> command inside it. In real world scenarios, if you did really want to run
a shell command, you could just use <a href=https://pypyr.io/docs/steps/shell/>pypyr.steps.shell</a> instead.</p><p>In general, pypyr pipelines can absolutely be cross-platform. In fact, this is
one of the reasons you might be using pypyr. For example, generally you can
specify all filesystem paths with <code>/</code> as you would for POSIX, and this will
automatically resolve correctly to the Windows <code>\</code>.</p><h2 id=passing-arguments-to-your-pipeline>passing arguments to your pipeline <a href=#passing-arguments-to-your-pipeline class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>You can pass arguments from the cli to your pipeline easy peasy.</p><p>All you need to do is add a <a href=https://pypyr.io/docs/context-parsers/>context_parser</a>.</p><p>In this example we&rsquo;ll be using a key-value pair parser, which will let you
specify your own key-value pairs so you can access the values you need by key.
There are other types of built-in context parser that can parse the cmd input
differently for you.</p><p>The context parser will add these values into the pypyr context for you. Your
pipeline steps can then use these values as they please with
<a href=https://pypyr.io/docs/substitutions/>{formatting expressions}</a>.</p><p>This time round, instead of running <code>/bin/echo</code>, we&rsquo;re going to execute the
<code>ping</code> program:</p><div class=tabs><input type=radio id=ping-example-radio-posix name=ping-example-selector class=tab-radio tabindex=0 checked>
<label for=ping-example-radio-posix class=tab-label>posix</label><div class=tab><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./pipe-with-args.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># To execute this pipeline, shell something like:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># pypyr pipe-with-args akey=avalue anotherkey=&#34;another arbitrary value&#34; count=1 ip=127.0.0.1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>context_parser</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.parser.keyvaluepairs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>this is akey&#39;s value - {akey}. It came from the cli args. {anotherkey}.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>ping -c {count} {ip}</span><span class=w>
</span></span></span></code></pre></div></div><input type=radio id=ping-example-radio-windows name=ping-example-selector class=tab-radio tabindex=0>
<label for=ping-example-radio-windows class=tab-label>windows</label><div class=tab><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./pipe-with-args.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># To execute this pipeline, shell something like:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># pypyr pipe-with-args akey=avalue anotherkey=&#34;another arbitrary value&#34; count=1 ip=127.0.0.1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>context_parser</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.parser.keyvaluepairs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>this is akey&#39;s value - {akey}. It came from the cli args. {anotherkey}.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>runs C:\Windows\System32\PING.EXE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>ping /n {count} {ip}</span><span class=w>
</span></span></span></code></pre></div></div></div><p>Save this file as <code>./pipe-with-args.yaml</code>.</p><p>Now you can run this pipeline like this:</p><div class=app-window><div class=app-window-top-bar><span class=app-window-buttons><span class="circle red"></span><span class="circle yellow"></span><span class="circle green"></span></span>
<span class=app-window-title>term</span></div><div class=app-window-content><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pypyr pipe-with-args akey=avalue anotherkey=&#34;another arbitrary value&#34; count=1 ip=127.0.0.1
</span></span><span class=line><span class=cl>this is akey&#39;s value - avalue. It came from the cli args. another arbitrary value.
</span></span><span class=line><span class=cl>PING 127.0.0.1 (127.0.0.1): 56 data bytes
</span></span><span class=line><span class=cl>64 bytes from 127.0.0.1: icmp_seq=0 ttl=64 time=0.063 ms
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>--- 127.0.0.1 ping statistics ---
</span></span><span class=line><span class=cl>1 packets transmitted, 1 packets received, 0.0% packet loss
</span></span><span class=line><span class=cl>round-trip min/avg/max/stddev = 0.063/0.063/0.063/0.000 ms
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$</span></span></code></pre></div></div></div><h2 id=branching-loops-retries>branching, loops, retries <a href=#branching-loops-retries class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>You can add extra functionality to <em>any</em> step in pypyr by decorating the step
with a <a href=https://pypyr.io/docs/decorators/>decorator</a>. pypyr gives you built-in
decorators to <a href=https://pypyr.io/docs/getting-started/loops/>loop</a>, <a href=https://pypyr.io/docs/getting-started/error-handling/#retry-on-error>retry a failure condition
automatically</a> and <a href=https://pypyr.io/docs/getting-started/conditional-logic/>selectively run
a step only if a certain condition is true</a> -
all of this without you having to code it yourself.</p><h3 id=conditional-execution>conditional execution <a href=#conditional-execution class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>You can dynamically <a href=https://pypyr.io/docs/decorators/run/>run</a> or <a href=https://pypyr.io/docs/decorators/skip/>skip</a> any step you want:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./conditional-logic.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>context_parser</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.parser.keys</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>set default values for optional cli inputs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>defaults</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>A</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>B</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>begin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{A}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>A</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{B}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>B</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>end</span><span class=w>
</span></span></span></code></pre></div><p>The <a href=https://pypyr.io/docs/context-parsers/keys/>pypyr.parser.keys</a> context parser
creates a boolean variable set to <code>True</code> for every key you pass in via the cli.</p><p>The <code>run</code> condition on the A and B steps uses a <a href=https://pypyr.io/docs/substitutions/format-string/>{formatting expression}</a> to check whether the boolean value
of <code>A</code> or <code>B</code> is <code>True</code>.</p><p>You can now selectively control which steps you want to run by changing
the cli input arguments:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pypyr conditional-logic
</span></span><span class=line><span class=cl>begin
</span></span><span class=line><span class=cl>end
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ pypyr conditional-logic A
</span></span><span class=line><span class=cl>begin
</span></span><span class=line><span class=cl>A
</span></span><span class=line><span class=cl>end
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ pypyr conditional-logic B
</span></span><span class=line><span class=cl>begin
</span></span><span class=line><span class=cl>B
</span></span><span class=line><span class=cl>end
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ pypyr conditional-logic A B
</span></span><span class=line><span class=cl>begin
</span></span><span class=line><span class=cl>A
</span></span><span class=line><span class=cl>B
</span></span><span class=line><span class=cl>end
</span></span></code></pre></div><p>Notice that we&rsquo;re just using the <code>pypyr.steps.echo</code> step here to demonstrate the
principle - you can apply the conditional <a href=https://pypyr.io/docs/decorators/run/>run</a> decorator to any given step, including your own custom commands.</p><h3 id=automatic-retry>automatic retry <a href=#automatic-retry class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>You can automatically <a href=https://pypyr.io/docs/decorators/retry/>retry</a> any given
step if it fails, without having to write any code.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>retry</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>max</span><span class=p>:</span><span class=w> </span><span class=m>4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>curl https://arb-unreliable-url-example-xyz/</span><span class=w>
</span></span></span></code></pre></div><p>This is calling the <a href=https://curl.se>curl</a> program - we&rsquo;re just using this
because it&rsquo;s widely available on different operating systems, but you could use
<a href=https://www.gnu.org/software/wget/>wget</a> or whatever takes your fancy instead.
If <code>curl</code> returns an error, pypyr will retry the command automatically up to 4
times.</p><p>If the 4th retry still fails, pypyr will not go to the next step. pypyr will
raise the error & report failure instead.</p><h3 id=static-loop>static loop <a href=#static-loop class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>Let&rsquo;s add a simple loop to a command using the
<a href=https://pypyr.io/docs/decorators/foreach/>foreach decorator</a>:<div class=tabs><input type=radio id=static-loop-radio-posix name=static-loop-selector class=tab-radio tabindex=0 checked>
<label for=static-loop-radio-posix class=tab-label>posix</label><div class=tab><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./fruit-loop.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>begin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>foreach</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>apple, pear, banana]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo arb-command --arg {i}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>end</span><span class=w>
</span></span></span></code></pre></div></div><input type=radio id=static-loop-radio-windows name=static-loop-selector class=tab-radio tabindex=0>
<label for=static-loop-radio-windows class=tab-label>windows</label><div class=tab><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./fruit-loop.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>begin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>foreach</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>apple, pear, banana]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>powershell.exe -NoProfile -Command &#34;echo &#39;arb-command --arg {i}&#39;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>end</span><span class=w>
</span></span></span></code></pre></div></div></div></p><p>Notice that for the <code>cmd</code> step we&rsquo;re just using <code>echo</code> for the sake of example,
you can instead use whatever executable is available on your system with
whatever input args & switches you want.</p><div class="admonition tip" role=figure><div class=admonition-tip-icon></div><div class=admonition-content>Just putting <code>echo</code> in front of a command is a handy way of troubleshooting
more complex command sequences - you print out exactly the final formatted
value pypyr passes to the underlying operating system.</div></div><p><code>{i}</code> is a context variable that contains the current item of the iterator.</p><p>Running this pipeline looks like this:<div class=app-window><div class=app-window-top-bar><span class=app-window-buttons><span class="circle red"></span><span class="circle yellow"></span><span class="circle green"></span></span>
<span class=app-window-title>term</span></div><div class=app-window-content><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pypyr fruit-loop
</span></span><span class=line><span class=cl>begin
</span></span><span class=line><span class=cl>arb-command --arg apple
</span></span><span class=line><span class=cl>arb-command --arg pear
</span></span><span class=line><span class=cl>arb-command --arg banana
</span></span><span class=line><span class=cl>end
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$</span></span></code></pre></div></div></div></p><h3 id=dynamic-loop-cli-input-args>dynamic loop cli input args <a href=#dynamic-loop-cli-input-args class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>Of course, you don&rsquo;t have to hard-code the list the you want to iterate. Let&rsquo;s
inject the values from the cli. As always, use a context parser to access
cli arguments: in this case,
<a href=https://pypyr.io/docs/context-parsers/list/>pypyr.parser.list</a> will parse all
the input arguments into a list named <code>{argList}</code> for you.</p><div class=tabs><input type=radio id=dynamic-loop-radio-posix name=dynamic-loop-selector class=tab-radio tabindex=0 checked>
<label for=dynamic-loop-radio-posix class=tab-label>posix</label><div class=tab><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./fruit-loop</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>context_parser</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.parser.list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>begin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>foreach</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{argList}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo arb-command --arg {i}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>end</span><span class=w>
</span></span></span></code></pre></div></div><input type=radio id=dynamic-loop-radio-windows name=dynamic-loop-selector class=tab-radio tabindex=0>
<label for=dynamic-loop-radio-windows class=tab-label>windows</label><div class=tab><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ./fruit-loop</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>context_parser</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.parser.list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>begin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>foreach</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{argList}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>powershell.exe -NoProfile -Command &#34;echo &#39;arb-command --arg {i}&#39;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>end</span><span class=w>
</span></span></span></code></pre></div></div></div><p>Notice that the <code>foreach</code> input now uses a
<a href=https://pypyr.io/docs/substitutions/format-string/>{formatting expression}</a> to get
the value of the <code>argList</code> variable set by the cli args input context parser,
instead of a hard-coded list.</p><p>Now you can control dynamically how many to times to run your command from the
cli like this:</p><div class=app-window><div class=app-window-top-bar><span class=app-window-buttons><span class="circle red"></span><span class="circle yellow"></span><span class="circle green"></span></span>
<span class=app-window-title>term</span></div><div class=app-window-content><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ pypyr fruit-loop
</span></span><span class=line><span class=cl>begin
</span></span><span class=line><span class=cl>end
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ pypyr fruit-loop apple pear
</span></span><span class=line><span class=cl>begin
</span></span><span class=line><span class=cl>arb-command --arg apple
</span></span><span class=line><span class=cl>arb-command --arg pear
</span></span><span class=line><span class=cl>end</span></span></code></pre></div></div></div><p>The first run, without any arguments, just prints <code>begin</code> and <code>end</code> - since the
input list is empty there is nothing over which to loop.</p><h2 id=what-next>what next? <a href=#what-next class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>You probably should check out:</p><ul><li>understanding <a href=https://pypyr.io/docs/getting-started/basic-concepts/>basic pipeline structure</a></li><li>How to <a href=https://pypyr.io/docs/getting-started/variables/>declare & use variables</a></li><li>How to do <a href=https://pypyr.io/docs/getting-started/conditional-logic/>branching with conditional logic</a></li><li>How to use <a href=https://pypyr.io/docs/getting-started/loops/>loops</a></li><li>Deal with <a href=https://pypyr.io/docs/getting-started/error-handling/>errors</a></li></ul></article></main><aside class="grid-improve elevation-02" aria-labelledby=feedback><h6 id=feedback>feedback</h6><ul class=small-list><li><a href=https://github.com/pypyr/docs/edit/main/content/docs/getting-started/run-your-first-pipeline.md class=muted-with-hover>edit me</a></li><li><a href="https://github.com/pypyr/docs/issues/new?title=docs%20issue:run%20your%20first%20pipeline&body=File:%20[run%20your%20first%20pipeline]%28https://pypyr.io/docs/getting-started/run-your-first-pipeline/%29" class=muted-with-hover>report typo</a></li><li><a href="https://github.com/pypyr/pypyr/issues/new?title=Re:%20run%20your%20first%20pipeline&labels=bug" class=muted-with-hover>report bug!</a></li></ul></aside><div class="page-git-info elevation-02"><small class=small-block>last updated on <time datetime=2022-02-26T11:44:59Z>2022-02-26 11:44</time>.</small></div></div><footer class="footer elevation-01"><a href=/ class=top-nav-logo aria-label=home><img class=top-nav-logo-img src=https://pypyr.io/images/pypyr-logotype.2c9aa98c472f0ea8d436597c26ef1b0f042624ee19cdf69bcb89ac0025d146c4.svg alt="pypyr logo"></a><div class=col-1fr-centered><ul class=footer-social-links aria-label="social media links"><li><a href=https://twitter.com/pypyrpipes/ class=footer-social-link><div class=footer-social-links-pre><svg viewBox="0 0 400 400"><title>twitter link</title><use xlink:href="https://pypyr.io/icons/twitter-social-icon-circle-white.d715a98bf8d7170b3d2603d836ca675616731d85583c13d23ec468905e77c59a.svg#twitter-icon"/></svg></div><small>twitter</small></a></li><li><a href=https://github.com/pypyr/pypyr/ class=footer-social-link><div class=footer-social-links-pre><svg viewBox="0 0 32.58 31.77"><title>github link</title><use xlink:href="https://pypyr.io/icons/github-icon.778bc8065fb7e8d1e7109b270cfbd86e15e05bb16ebff30d261935e4bc1560bd.svg#github-icon"/></svg></div><small>github</small></a></li><li><a href=https://github.com/pypyr/pypyr/discussions class=footer-social-link><div class=footer-social-links-pre><svg viewBox="0 0 16 16"><title>discussion forum link</title><use xlink:href="https://pypyr.io/icons/discussions.a9f14951d81276183aaea73b6d616db95326f8f16350b221d9d6d48ee5a0b16e.svg#discussions-icon"/></svg></div><small>forum</small></a></li></ul><ul class=footer-notices-links aria-label="legal notices"><li><a href=/legal/privacy-notice class=muted-with-hover><small>privacy</small></a></li><li><a href=/legal/licensing class=muted-with-hover><small>licensing</small></a></li><li><a href=/press-kit class=muted-with-hover><small>press</small></a></li></ul></div></footer><div class=bottom-spacer aria-hidden=true></div><div id=disabled-state-overlay aria-hidden=true class="disabled-state-overlay hide-overlay"></div></body></html>