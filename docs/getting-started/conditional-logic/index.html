<!doctype html><html lang=en dir=ltr prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>conditional logic | pypyr</title>
<meta name=description content="You can run or skip steps in a pypyr pipeline based on parameterized conditional statements.">
<link rel=stylesheet href=https://pypyr.io/css/styles.min.99e596997d7f6f9df9ec7bb05cdd3e8c62dd9d484bbe6858e05e90aebf2c1ec2.css integrity="sha256-meWWmX1/b5357HuwXN0+jGLdnUhLvmhY4F6Qrr8sHsI=">
<link rel=stylesheet href=https://pypyr.io/css/code-highlight.min.78f63f1d4f45beaf423efd3dc8e6914c2abdca1b5391cd91368a32efecd9d7e3.css integrity="sha256-ePY/HU9Fvq9CPv09yOaRTCq9yhtTkc2RNooy7+zZ1+M=">
<script defer src=https://pypyr.io/js/script.min.45064b9f444bbb1631eeef9f9ef2be6985c45b5f06bddb6644ce049732706a06.js integrity="sha256-RQZLn0RLuxYx7u+fnvK+aYXEW18GvdtmRM4ElzJwagY="></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700%7cRoboto+Mono:400,400i&display=swap" rel=stylesheet>
<link rel=canonical href=https://pypyr.io/docs/getting-started/conditional-logic/>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-147150909-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-147150909-1')</script>
<meta property="og:description" content="You can run or skip steps in a pypyr pipeline based on parameterized conditional statements.">
<meta property="og:image" content="https://pypyr.io/images/1.91x1/pypyr-taskrunner-yaml-pipeline-automation-1200x628.5aa6465b3b9d2ca8d0d5a9f794ba7f379c522a8ba503129f2a35d2479ea2452d.png">
<meta property="og:image:alt" content="pypyr is an open-source task-runner for automation pipelines defined in simple human-readable yaml.">
<meta property="og:image:height" content="628">
<meta property="og:image:type" content="image/png">
<meta property="og:image:width" content="1200">
<meta property="og:site_name" content="pypyr technical documentation">
<meta property="og:title" content="How to use conditional logic in a task-runner pipeline.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://pypyr.io/docs/getting-started/conditional-logic/">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:site content="@pypyrpipes">
<script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@id":"https://pypyr.io/#organization","@type":"Organization","name":"pypyr","url":"https://pypyr.io/","description":"The pypyr project is a free open-source task-runner cli \u0026 python api for automation pipelines.","logo":{"@type":"ImageObject","url":"https://pypyr.io/images/pypyr-taskrunner-logo-square.63875e43ff40d8ae40e93a6043b4328b962f54f52974aaa27cedec52220de665.svg","height":112,"width":112},"sameAs":["https://github.com/pypyr/","https://twitter.com/pypyrpipes/","https://pypi.org/user/pypyr/","https://hub.docker.com/u/pypyr/","https://en.gravatar.com/pypyr/"]},{"@type":"TechArticle","author":{"@type":"Person","name":"pypyr contributor"},"articleSection":"getting started","dateModified":"2021-10-05T14:41:15+01:00","datePublished":"2021-09-08T00:00:00Z","headline":"How to use conditional logic in a task-runner pipeline.","image":[{"@type":"ImageObject","url":"https://pypyr.io/images/1x1/pypyr-taskrunner-yaml-pipeline-automation-1200x1200.52764d3c6f40232b3cdc33f5b8fbaeadad56cc310c8dd5588d30828296b5290d.png","height":1200,"width":1200},{"@type":"ImageObject","url":"https://pypyr.io/images/4x3/pypyr-taskrunner-yaml-pipeline-automation-1200x900.e8e70443377aeb11c190835e8d2ed0c844d31a82a0c2e8a744a9999cd03e0de9.png","height":900,"width":1200},{"@type":"ImageObject","url":"https://pypyr.io/images/16x9/pypyr-taskrunner-yaml-pipeline-automation-1920x1080.cc9ae11626c8312e087058adb13bfff702162ce39c355065170c1b87850f3034.png","height":1080,"width":1920}],"inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https://pypyr.io/docs/getting-started/conditional-logic/"},"publisher":{"@id":"https://pypyr.io/#organization"},"url":"https://pypyr.io/docs/getting-started/conditional-logic/","wordCount":911}]}</script>
<link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.925deabb48d91a80924b5d04ff56d2b8f42ba1d1e1438cb7d8948cce1138208c.png>
<link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.b869433d27c4679a5fbce03a8489268a539cbc781259bff14618ae2f018334e6.png>
<link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.8bcd9f870e0a86445e0505ce6e816b76a40b08a06e2dcd1ec1f90c395ecbeaf6.png>
<link rel=manifest href=/favicons/site.3dad2bd5063ad6bc11f741ea28adf4df8b9370196f6e64af6789cf181cef05c6.webmanifest>
<link rel="shortcut icon" href=/favicons/favicon.4a2a3dffd965a7c571df0375e35f59307bc72adc08e3ef7021d5d5f02e6ef5a8.ico>
<meta name=msapplication-TileColor content="#00aba9">
<meta name=msapplication-config content="/favicons/browserconfig.bbdaec7f39b7bd1f2d6bc484afdd0c7246e3af9c5b45d91198d8a3b42e024e1f.xml">
<meta name=theme-color content="#121212">
</head>
<body class=docs-grid>
<header class="header elevation-01">
<a href=/ class=top-nav-logo aria-label=home>
<img class=top-nav-logo-img src=https://pypyr.io/images/pypyr-logotype.2c9aa98c472f0ea8d436597c26ef1b0f042624ee19cdf69bcb89ac0025d146c4.svg alt="pypyr logo">
</a>
<nav class=top-nav-links aria-label="top navigation">
<ul><li><a href=/docs/ class=top-active>docs</a></li><li><a href=/updates/>updates</a></li><li><a href=/topics/>topics</a></li><li><a href=https://twitter.com/pypyrpipes/><span class=top-nav-links-pre><svg viewBox="0 0 250 203.18"><title>twitter link</title><use xlink:href="https://pypyr.io/images/twitter-logo.4bee83a61c7b1a567b9a00ea1ac9388de3b16ffbffac9e228f998a5411894c59.svg#twitter-logo"/></svg></span></a></li><li><a href=https://github.com/pypyr/pypyr/><span class=top-nav-links-pre><svg viewBox="0 0 477 97.41"><title>github repo</title><use xlink:href="https://pypyr.io/images/github-mark-and-logo.5df312655c6a99a4953b544d02b13a948fa4d66bda21e772206f0ed96663f05b.svg#github-mark-and-logo"/></svg></span></a></li></ul>
</nav>
</header>
<button id=show-leftnav class="neutral-button icon-button primary-button"><svg class="show-leftnav-chevron"><title>open main navigation menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg>
</button>
<nav id=leftnavmenu class="leftnavmenu elevation-03" aria-label="Primary Navigation">
<button id=hide-leftnav class="neutral-button icon-button"><svg class="hide-leftnav-chevron"><title>close navigation menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg>
</button>
<ul class=leftnavroot>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron nav-chevron-down"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>getting started</span>
</span>
</button>
<ul class="nested expand">
<li>
<a href=/docs/getting-started/>overview</a>
</li>
<li>
<a href=/docs/getting-started/installation/>install pypyr</a>
</li>
<li>
<a href=/docs/getting-started/run-your-first-pipeline/>run your first pipeline</a>
</li>
<li>
<a href=/docs/getting-started/basic-concepts/>basic concepts</a>
</li>
<li>
<a href=/docs/getting-started/variables/>variables</a>
</li>
<li class=currentpage>
<a href=/docs/getting-started/conditional-logic/>conditional logic</a>
</li>
<li>
<a href=/docs/getting-started/loops/>loops</a>
</li>
<li>
<a href=/docs/getting-started/error-handling/>error handling</a>
</li>
</ul>
</li>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>cli</span>
</span>
</button>
<ul class=nested>
<li>
<a href=/docs/cli/>overview</a>
</li>
<li>
<a href=/docs/cli/run-a-pipeline/>run a pipeline</a>
</li>
<li>
<a href=/docs/cli/custom-args/>custom args</a>
</li>
</ul>
</li>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>pipelines</span>
</span>
</button>
<ul class=nested>
<li>
<a href=/docs/pipelines/>overview</a>
</li>
<li>
<a href=/docs/pipelines/pipeline-structure/>pipeline structure</a>
</li>
<li>
<a href=/docs/pipelines/lookup-order/>lookup order</a>
</li>
<li>
<a href=/docs/pipelines/builtin-pipelines/>built-in pipelines</a>
</li>
</ul>
</li>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>context parsers</span>
</span>
</button>
<ul class=nested>
<li>
<a href=/docs/context-parsers/>overview</a>
</li>
<li>
<a href=/docs/context-parsers/dict/>dict</a>
</li>
<li>
<a href=/docs/context-parsers/json/>json</a>
</li>
<li>
<a href=/docs/context-parsers/jsonfile/>jsonfile</a>
</li>
<li>
<a href=/docs/context-parsers/keys/>keys</a>
</li>
<li>
<a href=/docs/context-parsers/keyvaluepairs/>keyvaluepairs</a>
</li>
<li>
<a href=/docs/context-parsers/list/>list</a>
</li>
<li>
<a href=/docs/context-parsers/string/>string</a>
</li>
<li>
<a href=/docs/context-parsers/yamlfile/>yamlfile</a>
</li>
</ul>
</li>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>decorators</span>
</span>
</button>
<ul class=nested>
<li>
<a href=/docs/decorators/>overview</a>
</li>
<li>
<a href=/docs/decorators/comment/>comment</a>
</li>
<li>
<a href=/docs/decorators/description/>description</a>
</li>
<li>
<a href=/docs/decorators/foreach/>foreach</a>
</li>
<li>
<a href=/docs/decorators/in/>in</a>
</li>
<li>
<a href=/docs/decorators/onerror/>onError</a>
</li>
<li>
<a href=/docs/decorators/retry/>retry</a>
</li>
<li>
<a href=/docs/decorators/run/>run</a>
</li>
<li>
<a href=/docs/decorators/skip/>skip</a>
</li>
<li>
<a href=/docs/decorators/swallow/>swallow</a>
</li>
<li>
<a href=/docs/decorators/while/>while</a>
</li>
</ul>
</li>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>steps</span>
</span>
</button>
<ul class=nested>
<li>
<a href=/docs/steps/>overview</a>
</li>
<li>
<a href=/docs/steps/add/>add</a>
</li>
<li>
<a href=/docs/steps/append/>append</a>
</li>
<li>
<a href=/docs/steps/assert/>assert</a>
</li>
<li>
<a href=/docs/steps/call/>call</a>
</li>
<li>
<a href=/docs/steps/cmd/>cmd</a>
</li>
<li>
<a href=/docs/steps/contextclear/>contextclear</a>
</li>
<li>
<a href=/docs/steps/contextclearall/>contextclearall</a>
</li>
<li>
<a href=/docs/steps/contextcopy/>contextcopy</a>
</li>
<li>
<a href=/docs/steps/contextmerge/>contextmerge</a>
</li>
<li>
<a href=/docs/steps/contextsetf/>contextsetf</a>
</li>
<li>
<a href=/docs/steps/debug/>debug</a>
</li>
<li>
<a href=/docs/steps/default/>default</a>
</li>
<li>
<a href=/docs/steps/echo/>echo</a>
</li>
<li>
<a href=/docs/steps/env/>env</a>
</li>
<li>
<a href=/docs/steps/envget/>envget</a>
</li>
<li>
<a href=/docs/steps/fetchjson/>fetchjson</a>
</li>
<li>
<a href=/docs/steps/fetchyaml/>fetchyaml</a>
</li>
<li>
<a href=/docs/steps/fileformat/>fileformat</a>
</li>
<li>
<a href=/docs/steps/fileformatjson/>fileformatjson</a>
</li>
<li>
<a href=/docs/steps/fileformatyaml/>fileformatyaml</a>
</li>
<li>
<a href=/docs/steps/filereplace/>filereplace</a>
</li>
<li>
<a href=/docs/steps/filewritejson/>filewritejson</a>
</li>
<li>
<a href=/docs/steps/filewriteyaml/>filewriteyaml</a>
</li>
<li>
<a href=/docs/steps/glob/>glob</a>
</li>
<li>
<a href=/docs/steps/jsonparse/>jsonparse</a>
</li>
<li>
<a href=/docs/steps/jump/>jump</a>
</li>
<li>
<a href=/docs/steps/now/>now</a>
</li>
<li>
<a href=/docs/steps/nowutc/>nowutc</a>
</li>
<li>
<a href=/docs/steps/pathcheck/>pathcheck</a>
</li>
<li>
<a href=/docs/steps/py/>py</a>
</li>
<li>
<a href=/docs/steps/pyimport/>pyimport</a>
</li>
<li>
<a href=/docs/steps/pype/>pype</a>
</li>
<li>
<a href=/docs/steps/pypyrversion/>pypyrversion</a>
</li>
<li>
<a href=/docs/steps/safeshell/>safeshell</a>
</li>
<li>
<a href=/docs/steps/set/>set</a>
</li>
<li>
<a href=/docs/steps/shell/>shell</a>
</li>
<li>
<a href=/docs/steps/stop/>stop</a>
</li>
<li>
<a href=/docs/steps/stoppipeline/>stoppipeline</a>
</li>
<li>
<a href=/docs/steps/stopstepgroup/>stopstepgroup</a>
</li>
<li>
<a href=/docs/steps/tar/>tar</a>
</li>
</ul>
</li>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>substitutions</span>
</span>
</button>
<ul class=nested>
<li>
<a href=/docs/substitutions/>overview</a>
</li>
<li>
<a href=/docs/substitutions/format-string/>format string</a>
</li>
<li>
<a href=/docs/substitutions/jsonify/>jsonify</a>
</li>
<li>
<a href=/docs/substitutions/py-strings/>py string</a>
</li>
<li>
<a href=/docs/substitutions/sic-strings/>sic string</a>
</li>
</ul>
</li>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>plugins</span>
</span>
</button>
<ul class=nested>
<li>
<a href=/docs/plugins/>overview</a>
</li>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>aws</span>
</span>
</button>
<ul class=nested>
<li>
<a href=/docs/plugins/aws/>overview</a>
</li>
<li>
<a href=/docs/plugins/aws/authentication/>authentication</a>
</li>
<li>
<a href=/docs/plugins/aws/substitutions/>substitutions</a>
</li>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>steps</span>
</span>
</button>
<ul class=nested>
<li>
<a href=/docs/plugins/aws/steps/>overview</a>
</li>
<li>
<a href=/docs/plugins/aws/steps/client/>client</a>
</li>
<li>
<a href=/docs/plugins/aws/steps/ecswaitprep/>ecswaitprep</a>
</li>
<li>
<a href=/docs/plugins/aws/steps/s3fetchjson/>s3fetchjson</a>
</li>
<li>
<a href=/docs/plugins/aws/steps/s3fetchyaml/>s3fetchyaml</a>
</li>
<li>
<a href=/docs/plugins/aws/steps/wait/>wait</a>
</li>
<li>
<a href=/docs/plugins/aws/steps/waitfor/>waitfor</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>slack</span>
</span>
</button>
<ul class=nested>
<li>
<a href=/docs/plugins/slack/>overview</a>
</li>
<li>
<a href=/docs/plugins/slack/authentication/>authentication</a>
</li>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>steps</span>
</span>
</button>
<ul class=nested>
<li>
<a href=/docs/plugins/slack/steps/>overview</a>
</li>
<li>
<a href=/docs/plugins/slack/steps/send/>send</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>api</span>
</span>
</button>
<ul class=nested>
<li>
<a href=/docs/api/>overview</a>
</li>
<li>
<a href=/docs/api/context-parser/>context parser</a>
</li>
<li>
<a href=/docs/api/pipeline-loader/>pipeline loader</a>
</li>
<li>
<a href=/docs/api/retry-backoff/>retry backoff</a>
</li>
<li>
<a href=/docs/api/run-pipeline/>run pipeline</a>
</li>
<li>
<a href=/docs/api/step/>step</a>
</li>
</ul>
</li>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>contributing</span>
</span>
</button>
<ul class=nested>
<li>
<a href=/docs/contributing/>overview</a>
</li>
<li>
<a href=/docs/contributing/contribute-to-pypyr/>contribute to pypyr</a>
</li>
<li>
<a href=/docs/contributing/developers-guide/>developer's guide for pypyr</a>
</li>
</ul>
</li>
<li>
<button class="nav-section-chevron-title neutral-button">
<span class=nav-section-pointer>
<svg class="nav-chevron"><title>open or close sub-menu</title><use href="https://pypyr.io/icons/chevron-right.e586e5df0f820697b2ce08d042d0110568a2faeb11c7f0bab5a33df79dd3d6db.svg#chevron-right"/></svg><span>thank you</span>
</span>
</button>
<ul class=nested>
<li>
<a href=/docs/thank-you/>overview</a>
</li>
<li>
<a href=/docs/thank-you/built-with-hugo/>built with hugo</a>
</li>
<li>
<a href=/docs/thank-you/dependencies/>dependencies</a>
</li>
</ul>
</li>
</ul>
</nav>
<div class="docs-content content-grid">
<ol class=breadcrumb vocab="http://schema.org/" typeof="BreadcrumbList">
<li property="itemListElement" typeof="ListItem">
<a property="item" typeof="WebPage" href=https://pypyr.io/><span property="name">pypyr</span></a>
<meta property="position" content="1">
</li>
<li property="itemListElement" typeof="ListItem">
<a property="item" typeof="WebPage" href=https://pypyr.io/docs/><span property="name">docs</span></a>
<meta property="position" content="2">
</li>
<li property="itemListElement" typeof="ListItem">
<a property="item" typeof="WebPage" href=https://pypyr.io/docs/getting-started/><span property="name">getting started</span></a>
<meta property="position" content="3">
</li>
<li property="itemListElement" typeof="ListItem">
<span property="name">conditional logic</span>
<meta property="position" content="4">
</li></ol>
<aside class="grid-toc elevation-02">
<h6 id=table-of-contents>on this page</h6>
<nav id=TableOfContents>
<ol>
<li><a href=#selectively-run-or-skip-step>selectively run or skip step</a></li>
<li><a href=#use-variables-to-control-if-step-runs>use variables to control if step runs</a>
<ol>
<li><a href=#set-conditional-logic-in-pipeline>set conditional logic in pipeline</a></li>
<li><a href=#use-cli-arguments-to-run-step-conditionally>use cli arguments to run step conditionally</a></li>
<li><a href=#use-python-expressions-for-control-flow>use python expressions for control flow</a></li>
</ol>
</li>
<li><a href=#multiple-steps-with-the-same-condition>multiple steps with the same condition</a></li>
<li><a href=#dynamic-step-execution>dynamic step execution</a></li>
</ol>
</nav>
</aside>
<main class=grid-main>
<article>
<h1 id=conditional-logic>conditional logic <a href=#conditional-logic class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h1>
<h2 id=selectively-run-or-skip-step>selectively run or skip step <a href=#selectively-run-or-skip-step class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>You can control the flow of execution in your pipeline by selectively running or
skipping a step based upon whether a conditional statement evaluates to <code>True</code>.</p>
<p>You use the <a href=https://pypyr.io/docs/decorators/run/>run</a> or <a href=https://pypyr.io/docs/decorators/skip/>skip</a> decorators on any step to set your condition whether
to execute the step.</p>
<p>By default, unless you explicitly tell pypyr differently, every step will run.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=c># getting-started/basic-conditional.yaml</span><span class=w>
</span><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>begin</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo this will not run</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>skip</span><span class=p>:</span><span class=w> </span><span class=kc>True</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo this will not run</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>end</span><span class=w>
</span></code></pre></div><p>When you run this pipeline, the 2nd & 3rd steps will NOT execute:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>$ pypyr getting-started/basic-conditional
begin
end
</code></pre></div><p><code>skip</code> is the inverse of <code>run</code>.</p>
<h2 id=use-variables-to-control-if-step-runs>use variables to control if step runs <a href=#use-variables-to-control-if-step-runs class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>You can parameterize your conditional statements with <a href=https://pypyr.io/docs/getting-started/variables/>variables</a>. You can set variables in preceding steps, pass variables from
the cli, use <a href=https://pypyr.io/topics/environment-variables/>environment variables</a> or even load your variables from a separate configuration file using
something like <a href=https://pypyr.io/docs/steps/fetchjson/>fetchjson</a> or
<a href=https://pypyr.io/docs/steps/fetchyaml/>fetchyaml</a>.</p>
<h3 id=set-conditional-logic-in-pipeline>set conditional logic in pipeline <a href=#set-conditional-logic-in-pipeline class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>You can set the variables that control if a step runs or not in the pipeline
itself in a preceding step.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=c># ./getting-started/conditional-variable-in-pipeline</span><span class=w>
</span><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>begin</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.set</span><span class=w>
</span><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>set variables for use in run/skip later</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>set</span><span class=p>:</span><span class=w>
</span><span class=w>        </span><span class=nt>arbVar1</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span><span class=w>        </span><span class=nt>arbVar2</span><span class=p>:</span><span class=w> </span><span class=l>arbitrary str</span><span class=w>
</span><span class=w>        </span><span class=c># arbVar3 will eval True</span><span class=w>
</span><span class=w>        </span><span class=nt>arbVar3</span><span class=p>:</span><span class=w> </span>!<span class=l>py arbVar2 == &#39;arbitrary str&#39;</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{arbVar1}&#39;</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo this will not run</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>skip</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{arbVar3}&#39;</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo this will not run</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>end</span><span class=w>
</span></code></pre></div><p>When you run this pipeline, the 2nd & 3rd steps will NOT execute:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>$ pypyr getting-started/conditional-variable-in-pipeline
begin
end
</code></pre></div>
<h3 id=use-cli-arguments-to-run-step-conditionally>use cli arguments to run step conditionally <a href=#use-cli-arguments-to-run-step-conditionally class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>pypyr allows you to pass your own arguments from the cli to the pipeline using a
<a href=https://pypyr.io/docs/context-parsers/>context parser</a>.</p>
<p>You can use these variables directly in a step condition to control if the step
should run or not.</p>
<p>In this example, we will use the <a href=https://pypyr.io/docs/context-parsers/keys/>keys</a> context parser because a frequent pattern to create a natural syntax for
cli applications is to pass verbs as arguments to execute select functionality.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=c># ./ci.yaml</span><span class=w>
</span><span class=w></span><span class=nt>context_parser</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.parser.keys</span><span class=w>
</span><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.default</span><span class=w>
</span><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>set default values for optional cli inputs</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>defaults</span><span class=p>:</span><span class=w>
</span><span class=w>        </span><span class=nt>lint</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span><span class=w>        </span><span class=nt>build</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>begin - always runs</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{lint}&#39;</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo this will only run if you pass lint from cli</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{build}&#39;</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo this will only run if you pass build from cli</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>end - always runs</span><span class=w>
</span></code></pre></div><p>You can control which steps execute by passing the appropriate verbs as
arguments from the cli. You can also combine multiple steps by passing more than
one verb.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>$ pypyr ci
begin - always runs
end - always runs

$ pypyr ci lint
begin - always runs
this will only run if you pass lint from cli
end - always runs

$ pypyr ci build
begin - always runs
this will only run if you pass build from cli
end - always runs

$ pypyr ci lint build
begin - always runs
this will only run if you pass lint from cli
this will only run if you pass build from cli
end - always runs
</code></pre></div>
<h3 id=use-python-expressions-for-control-flow>use python expressions for control flow <a href=#use-python-expressions-for-control-flow class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h3><p>You can use <a href=https://pypyr.io/docs/substitutions/py-strings/>!py strings</a> to use
any valid Python expression to control if a step executes or not.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=c># ./getting-started/python-expression-conditional</span><span class=w>
</span><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>begin</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.set</span><span class=w>
</span><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>set arbitrary variables to use in later step run/skip conditions</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>set</span><span class=p>:</span><span class=w>
</span><span class=w>        </span><span class=nt>breakfasts</span><span class=p>:</span><span class=w>
</span><span class=w>          </span>- <span class=l>fish</span><span class=w>
</span><span class=w>          </span>- <span class=l>bacon</span><span class=w>
</span><span class=w>          </span>- <span class=l>spam</span><span class=w>
</span><span class=w>
</span><span class=w>        </span><span class=nt>numbersList</span><span class=p>:</span><span class=w>
</span><span class=w>          </span>- <span class=m>3</span><span class=w>
</span><span class=w>          </span>- <span class=m>4</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>run</span><span class=p>:</span><span class=w> </span>!<span class=l>py &#34;&#39;eggs&#39; in breakfasts&#34;</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo this will not run</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>skip</span><span class=p>:</span><span class=w> </span>!<span class=l>py sum(numbersList) &lt; 42</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo this will not run</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>end</span><span class=w>
</span></code></pre></div><p>Running this pipeline results in:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>$ pypyr getting-started/python-expression-conditional
begin
end
</code></pre></div>
<h2 id=multiple-steps-with-the-same-condition>multiple steps with the same condition <a href=#multiple-steps-with-the-same-condition class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>If you want to control multiple steps' conditional execution with the same
conditional statement, you can either just duplicate the same conditional
statement on each step, or you can group your steps together in a <a href=https://pypyr.io/docs/pipelines/pipeline-structure/#custom-step-groups>custom
step-group</a> and govern the entire step-group&rsquo;s execution with only the one conditional
evaluation on a <a href=https://pypyr.io/docs/steps/call/>call</a> step.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=c># ./ci.yaml</span><span class=w>
</span><span class=w></span><span class=nt>context_parser</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.parser.keys</span><span class=w>
</span><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.default</span><span class=w>
</span><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>set default values for optional cli inputs</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>defaults</span><span class=p>:</span><span class=w>
</span><span class=w>        </span><span class=nt>lint</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span><span class=w>        </span><span class=nt>build</span><span class=p>:</span><span class=w> </span><span class=kc>False</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>begin - always runs</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.call</span><span class=w>
</span><span class=w>    </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{lint}&#39;</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>call</span><span class=p>:</span><span class=w> </span><span class=l>lint</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.call</span><span class=w>
</span><span class=w>    </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{build}&#39;</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>call</span><span class=p>:</span><span class=w> </span><span class=l>build</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.echo</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>echoMe</span><span class=p>:</span><span class=w> </span><span class=l>end - always runs</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>lint</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo lint cmd 1 here</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo lint cmd 2 here</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>build</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo build cmd 1 here</span><span class=w>
</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo build cmd 2 here</span><span class=w>
</span></code></pre></div><p>You can control this pipeline from the cli like this:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>$ pypyr ci
begin - always runs
end - always runs

$ pypyr ci lint
begin - always runs
lint cmd 1 here
lint cmd 2 here
end - always runs

$ pypyr ci build
begin - always runs
build cmd 1 here
build cmd 2 here
end - always runs

$ pypyr ci lint build
begin - always runs
lint cmd 1 here
lint cmd 2 here
build cmd 1 here
build cmd 2 here
end - always runs
</code></pre></div><div class="admonition tip" role=figure>
<div class=admonition-tip-icon></div>
<div class=admonition-content><code>call</code> invokes a step-group in the same pipeline. If you want
to invoke another pipeline instead you can use a <a href=https://pypyr.io/docs/steps/pype/>pype step</a> and similarly set the conditional statement on that.</div>
</div>
<h2 id=dynamic-step-execution>dynamic step execution <a href=#dynamic-step-execution class=headline-anchor aria-label=anchor><svg class="permalink"><title>permalink</title><use href="https://pypyr.io/icons/external-link.054f8ebb57944b2bc52ea4f0ecd16197.svg#external-link"/></svg></a></h2><p>A compact pattern to create an extensible custom cli for your pipeline is to use
the <a href=https://pypyr.io/docs/steps/call/>call</a> step in conjunction with the
<a href=https://pypyr.io/docs/context-parsers/list/>list</a> context parser.</p>
<p>This way you are not hard-coding which step-groups to run - whichever group
names you pass from the cli will run in order.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=c># ./ops/build.yaml</span><span class=w>
</span><span class=w></span><span class=nt>context_parser</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.parser.list</span><span class=w>
</span><span class=w></span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.call</span><span class=w>
</span><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>lint &amp; test code. this runs on every pipeline invocation.</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>call</span><span class=p>:</span><span class=w> 
</span><span class=w>        </span>- <span class=l>lint</span><span class=w>
</span><span class=w>        </span>- <span class=l>test</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.call</span><span class=w>
</span><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=l>optionally do extras like package &amp; publish after lint &amp; test.</span><span class=w>
</span><span class=w>    </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{argList}&#39;</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>call</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{argList}&#39;</span><span class=w>
</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>lint</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo lint command here</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>test</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo test command here</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>package</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo package command here</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=nt>publish</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pypyr.steps.cmd</span><span class=w>
</span><span class=w>    </span><span class=nt>in</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class=l>echo publish command here</span><span class=w>
</span></code></pre></div><p>For the sake of clarity, each step-group only has one step in it, but you can
(hopefully obviously) specify multiple steps if you want.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text># only run the common functionality, no extras
$ pypyr ops/build
lint command here
test command here

# run common + package
$ pypyr ops/build package
lint command here
test command here
package command here

# run common + package + publish
$ pypyr ops/build package publish
lint command here
test command here
package command here
publish command here
</code></pre></div>
</article>
<section class="see-also elevation-02">
<h2>see also</h2>
<ul>
<li><a href=/docs/getting-started/loops/>loops</a></li>
<li><a href=/docs/steps/assert/>pypyr.steps.assert</a></li>
<li><a href=/docs/steps/call/>pypyr.steps.call</a></li>
<li><a href=/docs/decorators/while/>while loop decorator</a></li>
<li><a href=/docs/decorators/skip/>skip decorator</a></li>
</ul>
</section>
</main>
<aside class="grid-taxonomy elevation-02">
<section class=page-taxonomy aria-label="related topics">
<h6>topics</h6>
<ul id=topics class=small-list>
<li><a href=https://pypyr.io/topics/control-of-flow/ class=muted-with-hover>control-of-flow</a></li>
</ul>
</section>
</aside>
<aside class="grid-improve elevation-02" aria-labelledby=feedback>
<h6 id=feedback>feedback</h6>
<ul class=small-list>
<li><a href=https://github.com/pypyr/docs/edit/main/content/docs/getting-started/conditional-logic.md class=muted-with-hover>edit me</a></li>
<li><a href="https://github.com/pypyr/docs/issues/new?title=docs%20issue:conditional%20logic&body=File:%20[conditional%20logic]%28https://pypyr.io/docs/getting-started/conditional-logic/%29" class=muted-with-hover>report typo</a></li>
<li><a href="https://github.com/pypyr/pypyr/issues/new?title=Re:%20conditional%20logic&labels=bug" class=muted-with-hover>report bug!</a></li>
</ul>
</aside>
<div class="page-git-info elevation-02">
<small class=small-block>last updated on <time datetime=2021-10-05T14:41:15+01:00>2021-10-05 14:41</time>.</small>
</div>
</div>
<footer class="footer elevation-01">
<a href=/ class=top-nav-logo aria-label=home>
<img class=top-nav-logo-img src=https://pypyr.io/images/pypyr-logotype.2c9aa98c472f0ea8d436597c26ef1b0f042624ee19cdf69bcb89ac0025d146c4.svg alt="pypyr logo">
</a>
<div class=col-1fr-centered>
<ul class=footer-social-links aria-label="social media links"><li>
<a href=https://twitter.com/pypyrpipes/ class=footer-social-link>
<div class=footer-social-links-pre><svg viewBox="0 0 400 400"><title>twitter link</title><use xlink:href="https://pypyr.io/icons/twitter-social-icon-circle-white.d715a98bf8d7170b3d2603d836ca675616731d85583c13d23ec468905e77c59a.svg#twitter-icon"/></svg></div>
<small>twitter</small>
</a>
</li><li>
<a href=https://github.com/pypyr/pypyr/ class=footer-social-link>
<div class=footer-social-links-pre><svg viewBox="0 0 32.58 31.77"><title>github link</title><use xlink:href="https://pypyr.io/icons/github-icon.778bc8065fb7e8d1e7109b270cfbd86e15e05bb16ebff30d261935e4bc1560bd.svg#github-icon"/></svg></div>
<small>github</small>
</a>
</li><li>
<a href=https://github.com/pypyr/pypyr/discussions class=footer-social-link>
<div class=footer-social-links-pre><svg viewBox="0 0 16 16"><title>discussion forum link</title><use xlink:href="https://pypyr.io/icons/discussions.a9f14951d81276183aaea73b6d616db95326f8f16350b221d9d6d48ee5a0b16e.svg#discussions-icon"/></svg>
</div>
<small>forum</small>
</a>
</li></ul>
<ul class=footer-notices-links aria-label="legal notices"><li>
<a href=/legal/privacy-notice class=muted-with-hover>
<small>privacy</small>
</a>
</li><li>
<a href=/legal/licensing class=muted-with-hover>
<small>licensing</small>
</a>
</li><li>
<a href=/press-kit class=muted-with-hover>
<small>press</small>
</a>
</li></ul>
</div>
</footer>
<div class=bottom-spacer aria-hidden=true></div>
<div id=disabled-state-overlay aria-hidden=true class="disabled-state-overlay hide-overlay"></div>
</body>
</html>